<!DOCTYPE html><html><head><meta charSet="utf-8"/><title>ASD Admission Assignment – Nextra</title><meta name="robots" content="index,follow"/><meta property="og:title" content="ASD Admission Assignment – Nextra"/><meta name="theme-color" content="#111" media="(prefers-color-scheme: dark)"/><meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/><style>
        :root {
          --nextra-primary-hue: 212deg;
          --nextra-primary-saturation: 100%;
          --nextra-navbar-height: 4rem;
          --nextra-menu-height: 3.75rem;
          --nextra-banner-height: 2.5rem;
        }
        
        .dark {
          --nextra-primary-hue: 204deg;
          --nextra-primary-saturation: 100%;
        }
      </style><meta name="msapplication-TileColor" content="#fff"/><meta http-equiv="Content-Language" content="en"/><meta name="description" content="Nextra: the next docs builder"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@shuding_"/><meta property="og:title" content="Nextra: the next docs builder"/><meta property="og:description" content="Nextra: the next docs builder"/><meta name="apple-mobile-web-app-title" content="Nextra"/><meta name="next-head-count" content="15"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/b12cbc56830345d7.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/b12cbc56830345d7.css" crossorigin="" data-n-g=""/><link rel="preload" href="/_next/static/css/46fccca6582adbb1.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/46fccca6582adbb1.css" crossorigin="" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-6af0e3c12b874bb0.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-fae63b21a27d6472.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-97ba2b627474e8da.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-4a6a0ef8032c2c3b.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/879-6bec1b3a954d093a.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/630-659f445206df61de.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/admission_assignments/asd_admission_assignment-ab4f7226750cb3e0.js" defer="" crossorigin=""></script><script src="/_next/static/yTBYTIvLiwhsZ--IA1eZC/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/yTBYTIvLiwhsZ--IA1eZC/_ssgManifest.js" defer="" crossorigin=""></script><style id="__jsx-482e094de4b5d6d7">svg.jsx-482e094de4b5d6d7{height:var(--nextra-navbar-height);-webkit-mask-image:-webkit-linear-gradient(30deg,black 25%,rgba(0,0,0,.2)50%,black 75%);mask-image:-webkit-linear-gradient(30deg,black 25%,rgba(0,0,0,.2)50%,black 75%);mask-image:-moz-linear-gradient(30deg,black 25%,rgba(0,0,0,.2)50%,black 75%);mask-image:-o-linear-gradient(30deg,black 25%,rgba(0,0,0,.2)50%,black 75%);mask-image:linear-gradient(60deg,black 25%,rgba(0,0,0,.2)50%,black 75%);-webkit-mask-size:400%;mask-size:400%;-webkit-mask-position:0%;mask-position:0%}svg.jsx-482e094de4b5d6d7:hover{-webkit-mask-position:100%;mask-position:100%;-webkit-transition:mask-position 1s ease,-webkit-mask-position 1s ease;-moz-transition:mask-position 1s ease,-webkit-mask-position 1s ease;-o-transition:mask-position 1s ease,-webkit-mask-position 1s ease;transition:mask-position 1s ease,-webkit-mask-position 1s ease}</style></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div dir="ltr"><script>document.documentElement.setAttribute('dir','ltr')</script><div class="nextra-nav-container nx-sticky nx-top-0 nx-z-20 nx-w-full nx-bg-transparent print:nx-hidden"><div class="nextra-nav-container-blur nx-pointer-events-none nx-absolute nx-z-[-1] nx-h-full nx-w-full nx-bg-white dark:nx-bg-dark nx-shadow-[0_2px_4px_rgba(0,0,0,.02),0_1px_0_rgba(0,0,0,.06)] dark:nx-shadow-[0_-1px_0_rgba(255,255,255,.1)_inset] contrast-more:nx-shadow-[0_0_0_1px_#000] contrast-more:dark:nx-shadow-[0_0_0_1px_#fff]"></div><nav class="nx-mx-auto nx-flex nx-h-[var(--nextra-navbar-height)] nx-max-w-[90rem] nx-items-center nx-justify-end nx-gap-2 nx-pl-[max(env(safe-area-inset-left),1.5rem)] nx-pr-[max(env(safe-area-inset-right),1.5rem)]"><a class="nx-flex nx-items-center hover:nx-opacity-75 ltr:nx-mr-auto rtl:nx-ml-auto" href="/"><svg height="50" viewBox="0 0 3072 640" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="jsx-482e094de4b5d6d7"><title class="jsx-482e094de4b5d6d7">WATonomous logo</title><g id="3072x512" stroke="none" stroke-width="1" fill="currentColor" fill-rule="evenodd" transform="translate(-48, 128)" class="jsx-482e094de4b5d6d7"><path fill="currentColor" opacity="1.000000" stroke="none" shape-rendering="geometricPrecision" d=" M1770.000000,204.238556  C1769.511108,199.580673 1769.022217,195.398865 1768.533325,191.217056  C1768.244141,191.074554 1767.955078,190.932053 1767.666016,190.789551  C1748.678101,229.803574 1729.690308,268.817566 1710.670044,307.898193  C1704.311890,307.898193 1697.991577,307.898193 1691.261841,307.898193  C1672.189697,268.771759 1653.048828,229.504486 1633.907959,190.237198  C1633.494629,190.242432 1633.081299,190.247665 1632.667847,190.252899  C1632.445190,191.979935 1632.030396,193.706757 1632.028442,195.434036  C1631.990234,228.929337 1632.034180,262.424774 1631.954224,295.919891  C1631.944946,299.808990 1631.303955,303.696533 1630.938110,307.782349  C1614.982056,307.782349 1599.227417,307.782349 1583.236084,307.782349  C1583.236084,234.942688 1583.236084,162.211990 1583.236084,89.000000  C1589.918091,89.000000 1596.529297,89.000000 1603.140625,89.000000  C1612.639282,89.000000 1622.170044,89.473305 1631.625488,88.833900  C1637.947754,88.406364 1641.127686,90.435654 1643.848633,96.194321  C1654.233521,118.172119 1665.232788,139.859116 1675.956665,161.677338  C1683.337524,176.694244 1690.635254,191.751907 1697.992188,206.780670  C1698.737793,208.303925 1699.635376,209.752869 1700.851196,211.933487  C1702.018188,210.190613 1702.821777,209.238861 1703.357300,208.154663  C1716.263428,182.027359 1729.163940,155.897232 1742.013428,129.742065  C1748.113770,117.324989 1754.131958,104.867294 1760.127197,92.399033  C1761.311523,89.936111 1762.817749,88.880287 1765.790771,88.911034  C1783.284302,89.091919 1800.780762,89.000008 1818.638184,89.000008  C1818.638184,161.804367 1818.638184,234.535690 1818.638184,307.633606  C1802.871338,307.633606 1786.798706,307.633606 1770.000000,307.633606  C1770.000000,273.525696 1770.000000,239.120163 1770.000000,204.238556  z" class="jsx-482e094de4b5d6d7"></path><path fill="currentColor" opacity="1.000000" stroke="none" shape-rendering="geometricPrecision" d=" M1010.758057,273.740845  C996.258728,288.549866 979.124146,298.342041 959.579468,303.587860  C951.957397,305.633667 943.890747,306.399231 935.974182,306.873016  C926.842102,307.419586 917.487427,308.085358 908.528748,306.726257  C897.163574,305.002045 885.785583,302.156006 874.983582,298.225739  C860.869751,293.090454 848.721191,284.431641 838.061340,273.655396  C823.660217,259.096985 814.217834,241.807465 810.210632,221.930084  C808.027893,211.102509 806.525146,199.736160 807.299622,188.795731  C809.041687,164.186783 817.475220,141.763138 833.159607,122.253380  C850.024170,101.275528 871.959717,89.059601 898.221497,85.225388  C911.684265,83.259827 925.586853,82.340042 939.124878,83.295921  C962.214478,84.926216 983.269714,92.763908 1001.532349,107.841232  C1022.349976,125.027931 1034.874390,147.079773 1039.755371,173.051254  C1045.614502,204.228775 1039.635010,233.643265 1021.900635,260.251678  C1018.747620,264.982391 1014.661987,269.091583 1010.758057,273.740845  M974.570740,151.046036  C971.664246,148.359192 969.017883,145.301529 965.806824,143.048813  C950.715759,132.461624 934.219910,127.379517 915.528931,129.898941  C902.708313,131.627075 891.112793,135.973419 881.324951,144.283722  C857.729187,164.317749 852.427673,199.968658 866.122009,226.666321  C876.623169,247.138840 894.275574,258.848755 917.169800,260.804932  C938.326355,262.612671 957.580078,257.202301 972.603333,240.910522  C988.122253,224.081299 992.163696,204.098511 988.564758,182.154266  C986.713745,170.868195 981.753540,160.807022 974.570740,151.046036  z" class="jsx-482e094de4b5d6d7"></path><path fill="currentColor" opacity="1.000000" stroke="none" shape-rendering="geometricPrecision" d=" M1233.847656,305.540955  C1227.828613,297.597565 1221.893555,290.069366 1216.096680,282.436340  C1204.921753,267.721924 1193.810425,252.959091 1182.699341,238.196335  C1170.712036,222.269699 1158.802246,206.284561 1146.764160,190.396515  C1141.300537,183.185715 1135.609253,176.147522 1129.402832,168.243530  C1129.402832,215.159027 1129.402832,261.277039 1129.402832,307.696686  C1113.408203,307.696686 1098.003296,307.696686 1082.298340,307.696686  C1082.298340,234.731628 1082.298340,161.664352 1082.298340,88.000000  C1092.619751,88.000000 1103.103638,88.654655 1113.459229,87.784607  C1121.190063,87.135094 1125.521851,90.434769 1129.704956,96.106979  C1141.927124,112.680191 1154.502808,128.992508 1166.912354,145.427750  C1179.022827,161.466858 1191.034912,177.580750 1203.213745,193.567627  C1211.446045,204.373840 1219.892456,215.016937 1228.881714,226.552521  C1228.881714,179.872757 1228.881714,134.187637 1228.881714,88.252151  C1244.696289,88.252151 1260.100220,88.252151 1275.752686,88.252151  C1275.752686,161.371155 1275.752686,234.438232 1275.752686,307.997131  C1262.760742,307.997131 1249.819092,308.041779 1236.879517,307.907074  C1235.910889,307.897003 1234.955566,306.604858 1233.847656,305.540955  z" class="jsx-482e094de4b5d6d7"></path><path fill="currentColor" opacity="1.000000" stroke="none" shape-rendering="geometricPrecision" d=" M1350.373047,111.222473  C1362.753906,102.245079 1375.853149,95.635712 1390.401855,91.979584  C1407.449829,87.695389 1424.626221,87.114098 1442.088989,88.894264  C1460.618042,90.783134 1477.690552,96.470612 1492.911255,107.058449  C1516.893066,123.740883 1531.481934,146.682358 1537.015015,175.396683  C1541.155029,196.881729 1539.773315,218.016647 1531.884521,238.378067  C1525.168457,255.712708 1514.816406,270.555664 1500.170288,282.575104  C1485.434937,294.667755 1468.761108,302.299591 1450.374512,305.558838  C1438.902588,307.592346 1427.175659,308.722504 1415.177979,307.304352  C1404.174194,306.003693 1393.337646,304.598022 1382.884399,300.983582  C1369.197144,296.250946 1356.993774,289.148163 1345.884766,279.613342  C1327.640015,263.954224 1317.145386,243.959152 1312.215576,221.096329  C1307.335205,198.462540 1310.304810,176.211548 1318.987549,154.683807  C1325.842407,137.687912 1336.557129,123.576729 1350.373047,111.222473  M1467.970947,246.545105  C1470.548950,243.944626 1473.541992,241.639374 1475.636353,238.694824  C1487.733398,221.686661 1491.143066,202.721497 1486.909424,182.504791  C1483.579590,166.604019 1475.609375,153.258865 1461.695435,144.400742  C1448.761841,136.166687 1434.644409,132.495560 1418.965942,133.808304  C1403.940918,135.066315 1390.874146,140.238510 1380.200439,150.473969  C1362.125854,167.806381 1357.165771,189.950897 1362.512573,213.355774  C1368.594360,239.977753 1385.911987,256.573517 1413.703369,261.051971  C1433.740601,264.280884 1451.609253,259.680908 1467.970947,246.545105  z" class="jsx-482e094de4b5d6d7"></path><path fill="currentColor" opacity="1.000000" stroke="none" shape-rendering="geometricPrecision" d=" M1936.755981,93.679962  C1953.589722,88.509209 1970.513428,87.127129 1987.619019,88.054665  C2001.570068,88.811157 2015.003296,91.959885 2027.963135,97.388878  C2043.057251,103.711853 2055.534180,113.555649 2066.048340,125.739243  C2077.798340,139.354797 2085.793457,155.152252 2088.893311,172.992355  C2090.508545,182.288879 2092.142578,191.825363 2091.775879,201.175278  C2090.845947,224.884964 2084.049316,246.773911 2068.905273,265.692932  C2055.627441,282.280670 2039.505493,294.913788 2019.155029,301.155029  C2009.350098,304.162018 1998.963013,305.438324 1988.756836,306.933411  C1967.277344,310.079834 1946.595093,305.978577 1926.900391,297.795990  C1910.968872,291.177002 1897.560791,280.767670 1886.463867,267.185272  C1874.602905,252.667648 1867.245850,236.181152 1864.232788,218.062119  C1860.756714,197.158432 1862.883301,176.487869 1870.798828,156.555191  C1876.806763,141.426041 1885.132935,127.819321 1896.965942,116.654617  C1908.254517,106.003601 1921.456299,98.342667 1936.755981,93.679962  M2016.467896,145.979660  C2000.137207,135.197845 1982.576782,130.698837 1963.071533,134.953140  C1946.044556,138.666901 1932.605957,147.401093 1923.299805,162.216415  C1912.894409,178.781464 1910.535400,196.945923 1915.386230,215.435074  C1922.336182,241.924881 1941.781006,258.845276 1968.913574,261.718506  C1991.161865,264.074554 2011.227295,258.037262 2026.619019,240.056961  C2035.817261,229.311722 2039.640869,216.804596 2040.901978,203.299026  C2041.927612,192.314209 2040.201660,181.509659 2035.952271,171.271805  C2031.843994,161.373428 2026.025146,152.680054 2016.467896,145.979660  z" class="jsx-482e094de4b5d6d7"></path><path fill="currentColor" opacity="1.000000" stroke="none" shape-rendering="geometricPrecision" d=" M2281.798340,276.699402  C2268.975342,290.830994 2253.138916,299.270782 2234.878662,301.674896  C2222.756836,303.270844 2210.255127,302.106720 2197.925781,301.972412  C2183.588623,301.816223 2170.558594,296.936951 2159.063965,288.872101  C2141.948975,276.864105 2130.529785,260.511383 2127.153809,239.608154  C2125.280518,228.008942 2124.256592,216.160172 2124.137939,204.410889  C2123.764404,167.429657 2124.000000,130.442276 2124.000000,93.457283  C2124.000000,91.817772 2124.000000,90.178268 2124.000000,88.270576  C2140.654785,88.270576 2157.055176,88.270576 2174.000000,88.270576  C2174.000000,90.015411 2174.000000,91.784470 2174.000000,93.553528  C2174.000000,134.037109 2174.056885,174.520813 2173.964111,215.004181  C2173.937500,226.609482 2176.574951,237.612900 2184.753174,245.740921  C2189.523438,250.481873 2196.516602,253.793045 2203.102783,255.714661  C2213.491455,258.745667 2224.051758,257.249786 2233.746094,252.000763  C2244.345947,246.261429 2250.848145,236.963043 2251.747803,225.326172  C2253.061768,208.330109 2252.860596,191.202972 2252.956299,174.129761  C2253.116211,145.649429 2253.000000,117.167534 2253.000000,88.343216  C2269.506592,88.343216 2285.908691,88.343216 2303.000000,88.343216  C2303.000000,89.683998 2303.000000,91.266182 2303.000000,92.848373  C2303.000000,132.332352 2303.339844,171.820618 2302.844238,211.298370  C2302.624756,228.797989 2301.068848,246.392242 2291.926270,262.084534  C2289.010742,267.088928 2285.356934,271.663330 2281.798340,276.699402  z" class="jsx-482e094de4b5d6d7"></path><path fill="currentColor" opacity="1.000000" stroke="none" shape-rendering="geometricPrecision" d=" M506.957367,274.885742  C510.013763,264.426514 513.061462,253.964737 516.133240,243.510056  C516.849670,241.071518 517.648376,238.657135 518.460876,236.067047  C523.439453,236.067047 528.421692,236.067047 533.730469,236.067047  C528.153687,217.524185 522.654724,199.240051 517.155762,180.955902  C516.728333,180.958557 516.300842,180.961197 515.873413,180.963852  C512.919373,189.397308 509.922852,197.816177 507.018646,206.266769  C494.982147,241.290466 483.000549,276.333130 470.840027,311.313629  C470.424164,312.509857 468.326172,313.866425 466.995087,313.884491  C453.175110,314.072021 439.351654,313.999908 424.978943,313.999908  C428.075684,304.319427 431.040924,294.953156 434.067902,285.606903  C441.430786,262.872925 448.830200,240.150742 456.200195,217.419067  C463.818390,193.921906 471.414551,170.417603 479.029083,146.919235  C485.011444,128.457703 491.064362,110.018623 496.930908,91.520416  C497.750244,88.936966 498.790619,87.886871 501.608093,87.934334  C511.603210,88.102722 521.603638,88.066414 531.600403,87.956131  C534.300232,87.926346 535.427856,88.674873 536.311523,91.521904  C548.004333,129.195419 559.924438,166.798355 571.769836,204.424561  C577.213257,221.715057 582.561340,239.035721 588.055603,256.309937  C593.305542,272.815613 598.655151,289.289917 604.048767,305.749237  C604.910461,308.378723 606.232361,310.857391 607.600037,313.999664  C590.983887,313.999664 575.338501,314.078217 559.697693,313.850281  C558.449646,313.832092 556.567688,311.913788 556.108154,310.509521  C552.965454,300.904999 549.920959,291.256531 547.295410,281.500977  C546.365051,278.044220 545.126892,276.804596 541.419250,276.897614  C530.261353,277.177490 519.091736,276.991791 507.462341,276.585754  C506.984467,275.751160 506.970917,275.318451 506.957367,274.885742  z" class="jsx-482e094de4b5d6d7"></path><path fill="currentColor" opacity="1.000000" stroke="none" shape-rendering="geometricPrecision" d=" M2396.006348,153.426300  C2398.466309,161.553467 2405.030518,164.336777 2411.704102,167.011719  C2427.466309,173.329727 2443.601318,178.874603 2458.878418,186.205627  C2476.576660,194.698318 2484.930664,210.033661 2486.038330,229.535370  C2486.838135,243.620544 2484.804932,257.228546 2478.880615,269.978516  C2473.593506,281.358246 2465.704346,290.796722 2454.441650,296.853333  C2443.074219,302.966217 2430.982910,306.072357 2417.980713,307.228027  C2399.024414,308.912933 2381.034424,306.667084 2364.155029,297.927765  C2353.111572,292.209991 2343.424316,284.489716 2334.869873,275.291290  C2343.407959,263.547119 2351.859619,251.922226 2360.092285,240.598450  C2367.951172,246.460083 2375.353760,253.228561 2383.862549,258.040436  C2397.223877,265.596527 2411.580566,266.997742 2425.351807,258.756531  C2432.288330,254.605469 2436.483154,247.622421 2435.791992,239.475082  C2434.934570,229.368546 2427.666748,223.611710 2418.818604,220.060944  C2402.619141,213.560211 2385.986328,208.041977 2370.137451,200.794586  C2356.068115,194.360992 2348.319824,182.408813 2345.914795,166.887512  C2343.894287,153.847412 2344.456299,141.003494 2349.167480,128.813858  C2356.399658,110.102280 2369.683838,96.872917 2389.099854,91.174805  C2404.344971,86.700729 2419.981201,86.833504 2435.721436,89.833313  C2450.416016,92.633842 2463.644043,98.252365 2475.780273,106.882133  C2478.132812,108.554893 2478.416992,109.321228 2476.833984,111.794296  C2469.826660,122.742867 2463.107422,133.875671 2456.874268,143.984390  C2448.894775,139.812302 2441.349609,134.559448 2432.980225,131.910248  C2426.439697,129.840088 2418.550781,129.543121 2411.838379,131.042801  C2399.467773,133.806808 2395.997803,139.748581 2396.006348,153.426300  z" class="jsx-482e094de4b5d6d7"></path><path fill="currentColor" opacity="1.000000" stroke="none" shape-rendering="geometricPrecision" d=" M706.996216,314.000000  C694.188171,314.000000 681.879700,314.000000 669.177734,314.000000  C669.177734,253.710999 669.177734,193.646088 669.177734,133.180222  C648.385315,133.180222 627.979797,133.180222 607.288574,133.180222  C607.288574,118.045906 607.288574,103.308929 607.288574,88.285110  C665.958313,88.285110 724.689087,88.285110 783.710205,88.285110  C783.710205,102.951622 783.710205,117.688629 783.710205,132.829254  C763.375732,132.829254 742.970215,132.829254 722.173218,132.829254  C722.173218,193.293564 722.173218,253.358444 722.173218,314.000000  C717.029236,314.000000 712.262451,314.000000 706.996216,314.000000  z" class="jsx-482e094de4b5d6d7"></path><path fill="currentColor" opacity="1.000000" stroke="none" shape-rendering="geometricPrecision" d=" M305.730499,228.660156  C299.912689,245.357834 294.325378,261.715668 288.738068,278.073486  C288.134857,278.177155 287.531677,278.280853 286.928497,278.384552  C277.259888,246.216278 267.591309,214.048019 257.922729,181.879745  C257.314331,181.796249 256.705963,181.712738 256.097595,181.629242  C240.873611,225.665100 225.649628,269.700958 210.404800,313.797150  C195.732498,313.797150 180.948730,313.797150 165.578812,313.797150  C189.968872,238.392014 214.244217,163.341522 238.571350,88.130936  C250.735641,88.130936 263.043274,88.130936 275.470093,88.130936  C286.583191,122.247635 297.698730,156.368362 308.801453,190.493271  C308.950470,190.951233 308.794281,191.544571 309.020477,191.936111  C316.442688,204.781479 309.290100,216.389755 305.730499,228.660156  z" class="jsx-482e094de4b5d6d7"></path><path fill="currentColor" opacity="1.000000" stroke="none" shape-rendering="geometricPrecision" d=" M300.020996,305.067627  C306.351593,285.468140 312.727478,266.300446 318.956329,247.085098  C328.103088,218.868469 337.123077,190.610794 346.238037,162.383820  C353.578552,139.651840 361.220825,117.012733 368.168274,94.161873  C369.717560,89.066177 371.695923,87.752022 376.765991,87.866814  C392.732025,88.228287 408.711365,88.000000 425.406494,88.000000  C422.381165,97.246262 419.589233,106.047058 416.624268,114.789162  C408.798035,137.864563 400.853058,160.899689 393.035950,183.978149  C381.979462,216.620239 371.017181,249.294250 359.966461,281.938324  C356.727966,291.504913 353.197479,300.974518 350.082123,310.579803  C349.216248,313.249451 348.045166,314.082703 345.300781,314.061005  C329.479004,313.935913 313.655670,314.000000 297.319763,314.000000  C298.254456,311.028748 299.127502,308.253448 300.020996,305.067627  z" class="jsx-482e094de4b5d6d7"></path><path fill="currentColor" opacity="1.000000" stroke="none" shape-rendering="geometricPrecision" d=" M102.012337,88.000000  C115.172844,88.000015 127.836357,88.087296 140.496780,87.928185  C143.104050,87.895416 144.263809,88.858376 145.000626,91.139946  C155.597015,123.951729 166.229263,156.751938 176.838577,189.559555  C176.986572,190.017242 176.799149,190.620743 177.022018,191.011444  C184.291214,203.754349 178.564499,215.423889 174.325165,227.373520  C168.322754,244.292847 162.764114,261.369507 156.981934,278.367401  C156.647415,279.350769 156.009064,280.230804 154.744507,282.592529  C132.418091,217.019424 110.556870,152.812622 88.489388,88.000000  C93.272659,88.000000 97.393456,88.000000 102.012337,88.000000  z" class="jsx-482e094de4b5d6d7"></path><path fill="currentColor" opacity="1.000000" stroke="none" shape-rendering="geometricPrecision" d=" M506.659271,275.003967  C506.970917,275.318451 506.984467,275.751160 506.999329,276.508606  C506.787537,276.262970 506.574371,275.692566 506.659271,275.003967  z" class="jsx-482e094de4b5d6d7"></path></g></svg></a><a href="https://www.watonomous.ca" target="_blank" rel="noreferrer" class="nx-text-sm contrast-more:nx-text-gray-700 contrast-more:dark:nx-text-gray-100 nx-relative -nx-ml-2 nx-hidden nx-whitespace-nowrap nx-p-2 md:nx-inline-block nx-text-gray-600 hover:nx-text-gray-800 dark:nx-text-gray-400 dark:hover:nx-text-gray-200" aria-current="false"><span class="nx-absolute nx-inset-x-0 nx-text-center">Official Website ↗</span><span class="nx-invisible nx-font-medium">Official Website ↗</span><span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a><a href="https://cloud.watonomous.ca/docs" target="_blank" rel="noreferrer" class="nx-text-sm contrast-more:nx-text-gray-700 contrast-more:dark:nx-text-gray-100 nx-relative -nx-ml-2 nx-hidden nx-whitespace-nowrap nx-p-2 md:nx-inline-block nx-text-gray-600 hover:nx-text-gray-800 dark:nx-text-gray-400 dark:hover:nx-text-gray-200" aria-current="false"><span class="nx-absolute nx-inset-x-0 nx-text-center">WATcloud Website ↗</span><span class="nx-invisible nx-font-medium">WATcloud Website ↗</span><span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a><div class="nextra-search nx-relative md:nx-w-64 nx-hidden md:nx-inline-block mx-min-w-[200px]"><div class="nx-relative nx-flex nx-items-center nx-text-gray-900 contrast-more:nx-text-gray-800 dark:nx-text-gray-300 contrast-more:dark:nx-text-gray-300"><input spellcheck="false" class="nx-block nx-w-full nx-appearance-none nx-rounded-lg nx-px-3 nx-py-2 nx-transition-colors nx-text-base nx-leading-tight md:nx-text-sm nx-bg-black/[.05] dark:nx-bg-gray-50/10 focus:nx-bg-white dark:focus:nx-bg-dark placeholder:nx-text-gray-500 dark:placeholder:nx-text-gray-400 contrast-more:nx-border contrast-more:nx-border-current" type="search" placeholder="Search documentation…" value=""/></div></div><a href="https://github.com/WATonomous/wato_wiki" target="_blank" rel="noreferrer" class="nx-p-2 nx-text-current"><svg width="24" height="24" fill="currentColor" viewBox="3 3 18 18"><title>GitHub</title><path d="M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z"></path></svg><span class="nx-sr-only">GitHub</span><span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a><button type="button" aria-label="Menu" class="nextra-hamburger -nx-mr-2 nx-rounded nx-p-2 active:nx-bg-gray-400/20 md:nx-hidden"><svg fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" class=""><g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16"></path></g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12h16"></path><g><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 18h16"></path></g></svg></button></nav></div><div class="nx-mx-auto nx-flex nx-max-w-[90rem]"><div class="motion-reduce:nx-transition-none [transition:background-color_1.5s_ease] nx-bg-transparent"></div><aside class="nextra-sidebar-container nx-flex nx-flex-col md:nx-top-16 md:nx-shrink-0 motion-reduce:nx-transform-none nx-transform-gpu nx-transition-all nx-ease-in-out print:nx-hidden md:nx-w-64 md:nx-sticky md:nx-self-start max-md:[transform:translate3d(0,-100%,0)]"><div class="nx-px-4 nx-pt-4 md:nx-hidden"><div class="nextra-search nx-relative md:nx-w-64"><div class="nx-relative nx-flex nx-items-center nx-text-gray-900 contrast-more:nx-text-gray-800 dark:nx-text-gray-300 contrast-more:dark:nx-text-gray-300"><input spellcheck="false" class="nx-block nx-w-full nx-appearance-none nx-rounded-lg nx-px-3 nx-py-2 nx-transition-colors nx-text-base nx-leading-tight md:nx-text-sm nx-bg-black/[.05] dark:nx-bg-gray-50/10 focus:nx-bg-white dark:focus:nx-bg-dark placeholder:nx-text-gray-500 dark:placeholder:nx-text-gray-400 contrast-more:nx-border contrast-more:nx-border-current" type="search" placeholder="Search documentation…" value=""/></div></div></div><div class="nx-overflow-y-auto nx-overflow-x-hidden nx-p-4 nx-grow md:nx-h-[calc(100vh-var(--nextra-navbar-height)-var(--nextra-menu-height))] nextra-scrollbar"><div class="nx-transform-gpu nx-overflow-hidden nx-transition-all nx-ease-in-out motion-reduce:nx-transition-none"><div class="nx-transition-opacity nx-duration-500 nx-ease-in-out motion-reduce:nx-transition-none nx-opacity-100"><ul class="nx-flex nx-flex-col nx-gap-1 nextra-menu-desktop max-md:nx-hidden"><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/">Welcome to the Wiki</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/about">About WATonomous</a></li><li class="open"><a class="nx-items-center nx-justify-between nx-gap-2 nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/admission_assignments">Admission Assignments<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-h-[18px] nx-min-w-[18px] nx-rounded-sm nx-p-0.5 hover:nx-bg-gray-800/5 dark:hover:nx-bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="nx-origin-center nx-transition-transform rtl:-nx-rotate-180 ltr:nx-rotate-90 rtl:nx-rotate-[-270deg]"></path></svg></a><div class="nx-transform-gpu nx-overflow-hidden nx-transition-all nx-ease-in-out motion-reduce:nx-transition-none"><div class="nx-transition-opacity nx-duration-500 nx-ease-in-out motion-reduce:nx-transition-none nx-opacity-100 ltr:nx-pr-0 rtl:nx-pl-0 nx-pt-1"><ul class="nx-flex nx-flex-col nx-gap-1 nx-relative before:nx-absolute before:nx-inset-y-1 before:nx-w-px before:nx-bg-gray-200 before:nx-content-[&quot;&quot;] dark:before:nx-bg-neutral-800 ltr:nx-pl-3 ltr:before:nx-left-0 rtl:nx-pr-3 rtl:before:nx-right-0 ltr:nx-ml-3 rtl:nx-mr-3"><li class="nx-flex nx-flex-col nx-gap-1 active"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-bg-primary-100 nx-font-semibold nx-text-primary-800 dark:nx-bg-primary-400/10 dark:nx-text-primary-600 contrast-more:nx-border-primary-500 contrast-more:dark:nx-border-primary-500" href="/admission_assignments/asd_admission_assignment">ASD Admission Assignment</a></li></ul></div></div></li><li class="open"><a class="nx-items-center nx-justify-between nx-gap-2 nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/autonomous_platform_general">Autonomous Platform General<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-h-[18px] nx-min-w-[18px] nx-rounded-sm nx-p-0.5 hover:nx-bg-gray-800/5 dark:hover:nx-bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="nx-origin-center nx-transition-transform rtl:-nx-rotate-180 ltr:nx-rotate-90 rtl:nx-rotate-[-270deg]"></path></svg></a><div class="nx-transform-gpu nx-overflow-hidden nx-transition-all nx-ease-in-out motion-reduce:nx-transition-none"><div class="nx-transition-opacity nx-duration-500 nx-ease-in-out motion-reduce:nx-transition-none nx-opacity-100 ltr:nx-pr-0 rtl:nx-pl-0 nx-pt-1"><ul class="nx-flex nx-flex-col nx-gap-1 nx-relative before:nx-absolute before:nx-inset-y-1 before:nx-w-px before:nx-bg-gray-200 before:nx-content-[&quot;&quot;] dark:before:nx-bg-neutral-800 ltr:nx-pl-3 ltr:before:nx-left-0 rtl:nx-pr-3 rtl:before:nx-right-0 ltr:nx-ml-3 rtl:nx-mr-3"><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/autonomous_platform_general/about_ap">About Autonomous Platform</a></li></ul></div></div></li><li class="open"><a class="nx-items-center nx-justify-between nx-gap-2 nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/autonomous_software_general">Autonomous Software General<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-h-[18px] nx-min-w-[18px] nx-rounded-sm nx-p-0.5 hover:nx-bg-gray-800/5 dark:hover:nx-bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="nx-origin-center nx-transition-transform rtl:-nx-rotate-180 ltr:nx-rotate-90 rtl:nx-rotate-[-270deg]"></path></svg></a><div class="nx-transform-gpu nx-overflow-hidden nx-transition-all nx-ease-in-out motion-reduce:nx-transition-none"><div class="nx-transition-opacity nx-duration-500 nx-ease-in-out motion-reduce:nx-transition-none nx-opacity-100 ltr:nx-pr-0 rtl:nx-pl-0 nx-pt-1"><ul class="nx-flex nx-flex-col nx-gap-1 nx-relative before:nx-absolute before:nx-inset-y-1 before:nx-w-px before:nx-bg-gray-200 before:nx-content-[&quot;&quot;] dark:before:nx-bg-neutral-800 ltr:nx-pl-3 ltr:before:nx-left-0 rtl:nx-pr-3 rtl:before:nx-right-0 ltr:nx-ml-3 rtl:nx-mr-3"><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/autonomous_software_general/about_asd">About Autonomous Software</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/autonomous_software_general/monorepo_infrastructure">Monorepo Infrastructure</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/autonomous_software_general/watcloud_dev">Developing with WATcloud</a></li></ul></div></div></li><li class="open"><a class="nx-items-center nx-justify-between nx-gap-2 nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/finance">Finance<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-h-[18px] nx-min-w-[18px] nx-rounded-sm nx-p-0.5 hover:nx-bg-gray-800/5 dark:hover:nx-bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="nx-origin-center nx-transition-transform rtl:-nx-rotate-180 ltr:nx-rotate-90 rtl:nx-rotate-[-270deg]"></path></svg></a><div class="nx-transform-gpu nx-overflow-hidden nx-transition-all nx-ease-in-out motion-reduce:nx-transition-none"><div class="nx-transition-opacity nx-duration-500 nx-ease-in-out motion-reduce:nx-transition-none nx-opacity-100 ltr:nx-pr-0 rtl:nx-pl-0 nx-pt-1"><ul class="nx-flex nx-flex-col nx-gap-1 nx-relative before:nx-absolute before:nx-inset-y-1 before:nx-w-px before:nx-bg-gray-200 before:nx-content-[&quot;&quot;] dark:before:nx-bg-neutral-800 ltr:nx-pl-3 ltr:before:nx-left-0 rtl:nx-pr-3 rtl:before:nx-right-0 ltr:nx-ml-3 rtl:nx-mr-3"><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/finance/creating_personal_purchases">Creating Personal Purchases</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/finance/creating_purchase_requests">Creating Purchase Requests</a></li></ul></div></div></li><li class="open"><a class="nx-items-center nx-justify-between nx-gap-2 nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/quest_books">Quest Books<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-h-[18px] nx-min-w-[18px] nx-rounded-sm nx-p-0.5 hover:nx-bg-gray-800/5 dark:hover:nx-bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="nx-origin-center nx-transition-transform rtl:-nx-rotate-180 ltr:nx-rotate-90 rtl:nx-rotate-[-270deg]"></path></svg></a><div class="nx-transform-gpu nx-overflow-hidden nx-transition-all nx-ease-in-out motion-reduce:nx-transition-none"><div class="nx-transition-opacity nx-duration-500 nx-ease-in-out motion-reduce:nx-transition-none nx-opacity-100 ltr:nx-pr-0 rtl:nx-pl-0 nx-pt-1"><ul class="nx-flex nx-flex-col nx-gap-1 nx-relative before:nx-absolute before:nx-inset-y-1 before:nx-w-px before:nx-bg-gray-200 before:nx-content-[&quot;&quot;] dark:before:nx-bg-neutral-800 ltr:nx-pl-3 ltr:before:nx-left-0 rtl:nx-pr-3 rtl:before:nx-right-0 ltr:nx-ml-3 rtl:nx-mr-3"><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/quest_books/w25_eve_quests">W25 Eve Quests</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/quest_books/w25_micro_quests">W25 Micro Quests</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/quest_books/w25_rover_quests">W25 Rover Quests</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/quest_books/w25_humanoid_quests">W25 Humanoid Quests</a></li><li class="nx-flex nx-flex-col nx-gap-1"><a class="nx-flex nx-rounded nx-px-2 nx-py-1.5 nx-text-sm nx-transition-colors [word-break:break-word] nx-cursor-pointer [-webkit-tap-highlight-color:transparent] [-webkit-touch-callout:none] contrast-more:nx-border nx-text-gray-500 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:nx-text-neutral-400 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50 contrast-more:nx-text-gray-900 contrast-more:dark:nx-text-gray-50 contrast-more:nx-border-transparent contrast-more:hover:nx-border-gray-900 contrast-more:dark:hover:nx-border-gray-50" href="/quest_books/w25_bizops_quests">W25 Bizops Quests</a></li></ul></div></div></li></ul></div></div></div><div class="nx-sticky nx-bottom-0 nx-bg-white dark:nx-bg-dark nx-mx-4 nx-py-4 nx-shadow-[0_-12px_16px_#fff] nx-flex nx-items-center nx-gap-2 dark:nx-border-neutral-800 dark:nx-shadow-[0_-12px_16px_#111] contrast-more:nx-border-neutral-400 contrast-more:nx-shadow-none contrast-more:dark:nx-shadow-none nx-border-t" data-toggle-animation="off"><div class="nx-grow nx-flex nx-flex-col"><button title="Change theme" class="nx-h-7 nx-rounded-md nx-px-2 nx-text-left nx-text-xs nx-font-medium nx-text-gray-600 nx-transition-colors dark:nx-text-gray-400 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50" id="headlessui-listbox-button-:Rlsr6:" type="button" aria-haspopup="listbox" aria-expanded="false" data-headlessui-state=""><div class="nx-flex nx-items-center nx-gap-2 nx-capitalize"><svg fill="none" viewBox="3 3 18 18" width="12" height="12" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" fill="currentColor" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><span class="">Light</span></div></button></div></div></aside><nav class="nextra-toc nx-order-last nx-hidden nx-w-64 nx-shrink-0 xl:nx-block print:nx-hidden nx-px-4" aria-label="table of contents"><div class="nextra-scrollbar nx-sticky nx-top-16 nx-overflow-y-auto nx-pr-4 nx-pt-6 nx-text-sm [hyphens:auto] nx-max-h-[calc(100vh-var(--nextra-navbar-height)-env(safe-area-inset-bottom))] ltr:-nx-mr-4 rtl:-nx-ml-4"><p class="nx-mb-4 nx-font-semibold nx-tracking-tight">On This Page</p><ul><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#rules" class="nx-font-semibold nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Rules</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#goal-of-the-assignment" class="nx-font-semibold nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Goal of the Assignment</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#getting-started" class="nx-font-semibold nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Getting Started</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#prerequisites" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Prerequisites</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#setup" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Setup</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#warm-up-how-to-use-the-repository" class="nx-font-semibold nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Warm Up: How to use the Repository</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#first-encounter-with-foxglove" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">First Encounter with Foxglove</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#coding-the-robot-and-propagating-the-change-into-foxglove" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Coding the Robot and Propagating the change into Foxglove</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#what-did-i-just-write" class="nx-font-semibold nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">What did I just Write?</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#ros-system-diagram" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">ROS System Diagram</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#ros-node" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">ROS Node</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#ros-messages-and-topics" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">ROS Messages and Topics</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#ros-publishers-and-subscribers" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">ROS Publishers and Subscribers</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#the-skys-the-limit" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">The Sky&#x27;s the Limit</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#how-to-code-intelligence" class="nx-font-semibold nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">How to Code Intelligence</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#a-simple-model-of-the-human-brain" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">A Simple Model of the Human Brain</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#heres-a-good-guess-its-very-limited-but-its-good-enough-for-most-roboticists" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Here&#x27;s a good guess (it&#x27;s very limited, but it&#x27;s good enough for most roboticists):</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#how-does-the-brain-tie-into-robotics" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">How does the Brain Tie into Robotics?</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#time-to-finish-your-assignment" class="nx-font-semibold nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Time to Finish your Assignment</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#a-simple-navigation-architecture" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">A Simple Navigation Architecture</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#implementation-details" class="nx-font-semibold nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Implementation Details</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#costmap-node" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Costmap Node</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#steps-to-create-a-basic-costmap" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Steps to Create a Basic Costmap</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#code-example-pseudo-ros-2-implementation" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Code Example (Pseudo-ROS 2 Implementation)</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#key-points" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Key Points</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#map-memory-node" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Map Memory Node</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#steps-to-build-and-update-the-map" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Steps to Build and Update the Map</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#logic-for-map-update" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Logic for Map Update</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#linear-fusion-of-costmaps" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Linear Fusion of Costmaps</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#code-example-pseudo-ros-2-implementation-1" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Code Example (Pseudo-ROS 2 Implementation)</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#key-points-1" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Key Points</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#planner-node" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Planner Node</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#node-behavior-and-design" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Node Behavior and Design</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#key-functionalities" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Key Functionalities</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#steps-to-implement" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Steps to Implement</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#code-example-pseudo-ros-2-implementation-2" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Code Example (Pseudo-ROS 2 Implementation)</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#key-points-2" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Key Points</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#control-node" class="ltr:nx-pl-4 rtl:nx-pr-4 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Control Node</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#node-behavior-and-design-1" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Node Behavior and Design</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#key-functionalities-1" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Key Functionalities</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#pseudo-ros-code-example" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Pseudo ROS Code Example</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#key-details" class="ltr:nx-pl-8 rtl:nx-pr-8 nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Key Details</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#helpful-tips" class="nx-font-semibold nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Helpful Tips</a></li><li class="nx-my-2 nx-scroll-my-6 nx-scroll-py-6"><a href="#final-remarks" class="nx-font-semibold nx-inline-block nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-300 contrast-more:nx-text-gray-900 contrast-more:nx-underline contrast-more:dark:nx-text-gray-50 nx-w-full nx-break-words">Final Remarks</a></li></ul><div class="nx-mt-8 nx-border-t nx-bg-white nx-pt-8 nx-shadow-[0_-12px_16px_white] dark:nx-bg-dark dark:nx-shadow-[0_-12px_16px_#111] nx-sticky nx-bottom-0 nx-flex nx-flex-col nx-items-start nx-gap-2 nx-pb-8 dark:nx-border-neutral-800 contrast-more:nx-border-t contrast-more:nx-border-neutral-400 contrast-more:nx-shadow-none contrast-more:dark:nx-border-neutral-400"><a href="https://github.com/WATonomous/wato_wiki/issues/new?title=Feedback%20for%20%E2%80%9CASD%20Admission%20Assignment%E2%80%9D&amp;labels=feedback" target="_blank" rel="noreferrer" class="nx-text-xs nx-font-medium nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-100 contrast-more:nx-text-gray-800 contrast-more:dark:nx-text-gray-50">Question? Give us feedback →<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a><a class="nx-text-xs nx-font-medium nx-text-gray-500 hover:nx-text-gray-900 dark:nx-text-gray-400 dark:hover:nx-text-gray-100 contrast-more:nx-text-gray-800 contrast-more:dark:nx-text-gray-50" href="https://github.com/WATonomous/wato_wiki/tree/main/pages/admission_assignments/asd_admission_assignment.mdx">Edit this page</a></div></div></nav><div id="reach-skip-nav"></div><article class="nx-w-full nx-break-words nextra-content nx-flex nx-min-h-[calc(100vh-var(--nextra-navbar-height))] nx-min-w-0 nx-justify-center nx-pb-8 nx-pr-[calc(env(safe-area-inset-right)-1.5rem)]"><main class="nx-w-full nx-min-w-0 nx-max-w-6xl nx-px-6 nx-pt-4 md:nx-px-12"><div class="nextra-breadcrumb nx-mt-1.5 nx-flex nx-items-center nx-gap-1 nx-overflow-hidden nx-text-sm nx-text-gray-500 dark:nx-text-gray-400 contrast-more:nx-text-current"><div class="nx-whitespace-nowrap nx-transition-colors nx-min-w-[24px] nx-overflow-hidden nx-text-ellipsis hover:nx-text-gray-900 dark:hover:nx-text-gray-100" title="Admission Assignments"><a href="/admission_assignments">Admission Assignments</a></div><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-w-3.5 nx-shrink-0"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg><div class="nx-whitespace-nowrap nx-transition-colors nx-font-medium nx-text-gray-700 contrast-more:nx-font-bold contrast-more:nx-text-current dark:nx-text-gray-100 contrast-more:dark:nx-text-current" title="ASD Admission Assignment">ASD Admission Assignment</div></div><h1 class="nx-mt-2 nx-text-4xl nx-font-bold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100">ASD Admission Assignment</h1>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">The ASD Admission Assignment seeks to teach you all the relevant software tools and robotics knowledge you&#x27;ll need for your future career in state-of-the-art robotics.</p>
<div class="nextra-callout nx-overflow-x-auto nx-mt-6 nx-flex nx-rounded-lg nx-border nx-py-2 ltr:nx-pr-4 rtl:nx-pl-4 contrast-more:nx-border-current contrast-more:dark:nx-border-current nx-border-yellow-100 nx-bg-yellow-50 nx-text-yellow-900 dark:nx-border-yellow-200/30 dark:nx-bg-yellow-700/30 dark:nx-text-yellow-200"><div class="nx-select-none nx-text-xl ltr:nx-pl-3 ltr:nx-pr-2 rtl:nx-pr-3 rtl:nx-pl-2" style="font-family:&quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;">️⚠️</div><div class="nx-w-full nx-min-w-0 nx-leading-7"><p class="nx-mt-6 nx-leading-7 first:nx-mt-0">This assignment can be a bit daunting, but we promise that with grit, you can complete this assignment regardless of your current capabilities. Feel free to ask any questions on Discord.</p></div></div>
<h2 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-10 nx-border-b nx-pb-1 nx-text-3xl nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400">Rules<a href="#rules" id="rules" class="subheading-anchor" aria-label="Permalink for this section"></a></h2>
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">If you finished the assignment (or the deadline has been reached), submit a link to your code on github plus video proof to the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">assignment-completions</code> discord channel.</li>
<li class="nx-my-2"><strong>You&#x27;re allowed to work in groups of 3.</strong> Be sure to credit your group members in the submission. You can look for group members in the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">assignment-groups</code> discord channel.</li>
<li class="nx-my-2">You are allowed to use AI tools such as LLMs.</li>
<li class="nx-my-2">You are allowed to look at the answer. If you know how to find it. We&#x27;ll know if you used the answer though ;)</li>
</ol>
<div class="nextra-callout nx-overflow-x-auto nx-mt-6 nx-flex nx-rounded-lg nx-border nx-py-2 ltr:nx-pr-4 rtl:nx-pl-4 contrast-more:nx-border-current contrast-more:dark:nx-border-current nx-border-red-200 nx-bg-red-100 nx-text-red-900 dark:nx-border-red-200/30 dark:nx-bg-red-900/30 dark:nx-text-red-200"><div class="nx-select-none nx-text-xl ltr:nx-pl-3 ltr:nx-pr-2 rtl:nx-pr-3 rtl:nx-pl-2" style="font-family:&quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;">️‼️</div><div class="nx-w-full nx-min-w-0 nx-leading-7"><p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Why so many loopholes?</strong> It&#x27;s because we aren&#x27;t testing you. It&#x27;s to give you a chance to really hold yourself accountable, and explore the interesting world of robotics. Sure you can copy your way through, but what&#x27;s the point? Are you really becoming a better you by doing that? Do you care more about your own personal growth or more about superficially showing yourself off?</p></div></div>
<h2 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-10 nx-border-b nx-pb-1 nx-text-3xl nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400">Goal of the Assignment<a href="#goal-of-the-assignment" id="goal-of-the-assignment" class="subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">In this assignment, you are tasked with giving a simulated robot the intelligence to navigate from point-to-point while avoiding static objects. The robot is <a href="https://en.wikipedia.org/wiki/Differential_wheeled_robot" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">differential drive<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> and has a camera and laser scanner.</p>
<iframe class="pt-4 w-full aspect-video" src="https://www.youtube.com/embed/bLf8vFsxAJ0" title="YouTube Video" frameBorder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">The code you will write, and the libraries you will use, are industry-standard. That means you will be writing code that could be transferable to companies you will be working for in the future! Here&#x27;s a non-exhaustive list:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><a href="https://developer.nvidia.com/isaac/ros" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">Nvidia<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a></li>
<li class="nx-my-2"><a href="https://www.intrinsic.ai/" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">Google (Intrinsic)<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a></li>
<li class="nx-my-2"><a href="https://amazon.jobs/content/en/teams/ftr/amazon-robotics" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">Amazon (Amazon Robotics)<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a></li>
<li class="nx-my-2"><a href="https://www.tesla.com/AI" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">Tesla<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a></li>
<li class="nx-my-2">... and MANY robotics startups</li>
</ul>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Of course, we cannot cover everything. So feel free to use this assignment as a good starting point to get into the world of robotics. :)</p>
<h2 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-10 nx-border-b nx-pb-1 nx-text-3xl nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400">Getting Started<a href="#getting-started" id="getting-started" class="subheading-anchor" aria-label="Permalink for this section"></a></h2>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">Prerequisites<a href="#prerequisites" id="prerequisites" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">We recommend you refresh your knowledge of the following before beginning the assignment:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><a href="https://docs.github.com/en/get-started/start-your-journey/hello-world" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">GitHub and git<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a></li>
<li class="nx-my-2"><a href="https://www.redhat.com/en/blog/navigating-filesystem-linux-terminal" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">navigating the terminal<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a></li>
<li class="nx-my-2"><a href="https://leetcode.com/" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">C++ and Python<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> (You will be using C++ for this assignment because it is easier to learn rclpy coming from rclcpp)</li>
<li class="nx-my-2">Concurrent Programming and Interprocess Communication</li>
</ul>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">Setup<a href="#setup" id="setup" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">The ASD Admission Assignment is compatible with Linux, Windows (<a href="https://learn.microsoft.com/en-us/windows/wsl/install" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">WSL<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a>), and MacOS. We utilize <a href="https://docs.docker.com/get-started/docker-overview/" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">docker<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> for ease of reproducibility and deployability, so you&#x27;ll barely need to install anything on your own computer to make this assignment work!</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">In the terminal:</p>
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><a href="https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">Download Docker Engine (or Docker Desktop if you have no choice)<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a></li>
<li class="nx-my-2">Clone the WATonomous ASD Admissions Assignment</li>
</ol>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="bash" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="bash" data-theme="default"><span class="line"><span style="color:var(--shiki-token-function)">git</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">clone</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">git@github.com:WATonomous/wato_asd_training.git</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6" start="3">
<li class="nx-my-2">You&#x27;re ready to begin!</li>
</ol>
<h2 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-10 nx-border-b nx-pb-1 nx-text-3xl nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400">Warm Up: How to use the Repository<a href="#warm-up-how-to-use-the-repository" id="warm-up-how-to-use-the-repository" class="subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">The ASD Assignment utilizes our custom-built <a class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]" href="/autonomous_software_general/monorepo_infrastructure">Monorepo Infrastructure</a>. It is a Docker Compose wrapper that orchestrates various concurrent programs together. It also lets us build code, setup VScode Intellisense, and deploy to robots.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">In this warm up, you will learn how to use the infrastructure. More specifically, how to open Foxglove to visualize data, make changes to the code, build the code, and witness your changes on Foxglove. We highly recommend you reference the <a class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]" href="/autonomous_software_general/monorepo_infrastructure">Monorepo Infrastructure Docs</a> while you go through this warm up and the rest of the assignment.</p>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">First Encounter with Foxglove<a href="#first-encounter-with-foxglove" id="first-encounter-with-foxglove" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>1. Set your <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">watod-config.sh</code> to run <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">robot</code>, <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">gazebo</code>, and <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">vis_tools</code> as the active modules.</strong></p>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="bash" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="bash" data-theme="default"><span class="line"><span style="color:var(--shiki-color-text)">ACTIVE_MODULES</span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-token-string-expression)">&quot;robot gazebo vis_tools&quot;</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>2. Build these module images</strong></p>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="bash" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="bash" data-theme="default"><span class="line"><span style="color:var(--shiki-token-function)">./watod</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">build</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>3. Up the module containers</strong></p>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="bash" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="bash" data-theme="default"><span class="line"><span style="color:var(--shiki-token-function)">./watod</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">up</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>4. Figure out your Foxglove URL</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">If you are developing locally, this can be found in the logs after you run <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">./watod up</code>, it should look like something along the lines of <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">https://localhost:#####</code></li>
<li class="nx-my-2">If you are developing on watcloud, it should act the same as deving locally. If not, check that the port is being forwarded by looking at the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">PORTS</code> tab in VScode</li>
</ul>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>5. Open up <a href="https://foxglove.dev/ros" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">Foxglove<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> (web app or desktop app). Click <strong>Open Connection</strong> and enter the URL you found previously. The Foxglove dashboard should open.</strong></p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>6. Import the pre-made Foxglove layout located in <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">config/wato_asd_training_foxglove_config.json</code> into the Foxglove Dashboard.</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">You should see the following:</li>
</ul>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img loading="lazy" width="4064" height="2469" decoding="async" data-nimg="1" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 320 200&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAhklEQVR42mOwtLTT1jKUllZUU1VTUdZQVta2trYzNbdiMDW1VFHWFBWX1TLxlpZTkxSXVVLSUlRQZzA0NFVX0zZzCDV3S9CxCDIyNIqPj4uPj2UwMbFQU9VU0rIydoxhENWLiU7aunXfqlWbGHR1DRQVNESEJdU0jBkYGLw8g6ZMmd3S0gMAy8Ub3WVNheMAAAAASUVORK5CYII=&#x27;/%3E%3C/svg%3E&quot;)" src="/_next/static/media/assignment_foxglove_init.0aa328f7.png"/></p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">You can move the robot around using the Teleop Panel.</p>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">Coding the Robot and Propagating the change into Foxglove<a href="#coding-the-robot-and-propagating-the-change-into-foxglove" id="coding-the-robot-and-propagating-the-change-into-foxglove" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">This section will get you to integrate a simple publisher node using one of the empty packages located in the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">src</code> directory. Later on, we will give you a rundown on what you are actually writing.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>0. Get Intellisense working. This will give you code completion on VScode.</strong></p>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="bash" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="bash" data-theme="default"><span class="line"><span style="color:var(--shiki-token-function)">./watod</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">--setup-dev-env</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">robot</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>1. In <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">src/robot/costmap/include/costmap_node.hpp</code> place the following code</strong></p>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="cpp" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="cpp" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">#ifndef</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">COSTMAP_NODE_HPP_</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">#define</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">COSTMAP_NODE_HPP_</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">#include</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;rclcpp/rclcpp.hpp&quot;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">#include</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;std_msgs/msg/string.hpp&quot;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">#include</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;costmap_core.hpp&quot;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">class</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">CostmapNode</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">public</span><span style="color:var(--shiki-color-text)"> rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">Node</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">public</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">CostmapNode</span><span style="color:var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Place callback function here</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">void</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">publishMessage</span><span style="color:var(--shiki-color-text)">();</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">private</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    robot</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">CostmapCore costmap_;</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Place these constructs here</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Publisher&lt;std_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">String</span><span style="color:var(--shiki-color-text)">&gt;</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr string_pub_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">TimerBase</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr timer_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">};</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">#endif</span><span style="color:var(--shiki-color-text)"> </span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>2. In <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">src/robot/costmap/src/costmap_node.cpp</code> place the following code</strong></p>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="cpp" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="cpp" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">#include</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&lt;chrono&gt;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">#include</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&lt;memory&gt;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">#include</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;costmap_node.hpp&quot;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">CostmapNode</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">CostmapNode</span><span style="color:var(--shiki-color-text)">() : </span><span style="color:var(--shiki-token-function)">Node</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;costmap&quot;</span><span style="color:var(--shiki-color-text)">)</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">costmap_</span><span style="color:var(--shiki-color-text)">(robot</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">CostmapCore</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">get_logger</span><span style="color:var(--shiki-color-text)">())) {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">  // Initialize the constructs and their parameters</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  string_pub_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">create_publisher</span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-color-text)">std_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">String</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;/test_topic&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">10</span><span style="color:var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  timer_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">create_wall_timer</span><span style="color:var(--shiki-color-text)">(std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">chrono</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">milliseconds</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">500</span><span style="color:var(--shiki-color-text)">)</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">bind</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">CostmapNode</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">publishMessage</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-color-text)">));</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">// Define the timer to publish a message every 500ms</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">void</span><span style="color:var(--shiki-color-text)"> CostmapNode</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">publishMessage</span><span style="color:var(--shiki-color-text)">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">auto</span><span style="color:var(--shiki-color-text)"> message </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> std_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">String</span><span style="color:var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-constant)">message</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">data </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;Hello, ROS 2!&quot;</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">RCLCPP_INFO</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">get_logger</span><span style="color:var(--shiki-color-text)">()</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;Publishing: &#x27;</span><span style="color:var(--shiki-token-constant)">%s</span><span style="color:var(--shiki-token-string-expression)">&#x27;&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">message</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-constant)">data</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">c_str</span><span style="color:var(--shiki-color-text)">());</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-constant)">string_pub_</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">publish</span><span style="color:var(--shiki-color-text)">(message);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">int</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">main</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">int</span><span style="color:var(--shiki-color-text)"> argc</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">char</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">**</span><span style="color:var(--shiki-color-text)"> argv)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">{</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">init</span><span style="color:var(--shiki-color-text)">(argc</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> argv);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">spin</span><span style="color:var(--shiki-color-text)">(std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">make_shared</span><span style="color:var(--shiki-color-text)">&lt;</span><span style="color:var(--shiki-token-function)">CostmapNode</span><span style="color:var(--shiki-color-text)">&gt;());</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">shutdown</span><span style="color:var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>3. Because you added a new ROS2 libary <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">std_msgs</code>, you need to instruct ROS2&#x27;s package manager to install and compile with <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">std_msgs</code></strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">In <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">src/robot/costmap/package.xml</code> add in the following:</li>
</ul>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="xml" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="xml" data-theme="default"><span class="line"><span style="color:var(--shiki-color-text)">&lt;?</span><span style="color:var(--shiki-token-string-expression)">xml</span><span style="color:var(--shiki-token-function)"> version</span><span style="color:var(--shiki-color-text)">=</span><span style="color:var(--shiki-token-string-expression)">&quot;1.0&quot;</span><span style="color:var(--shiki-color-text)">?&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">&lt;</span><span style="color:var(--shiki-token-string-expression)">package</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">format</span><span style="color:var(--shiki-color-text)">=</span><span style="color:var(--shiki-token-string-expression)">&quot;3&quot;</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  &lt;</span><span style="color:var(--shiki-token-string-expression)">name</span><span style="color:var(--shiki-color-text)">&gt;costmap&lt;/</span><span style="color:var(--shiki-token-string-expression)">name</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  &lt;</span><span style="color:var(--shiki-token-string-expression)">version</span><span style="color:var(--shiki-color-text)">&gt;0.0.0&lt;/</span><span style="color:var(--shiki-token-string-expression)">version</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  &lt;</span><span style="color:var(--shiki-token-string-expression)">description</span><span style="color:var(--shiki-color-text)">&gt;A sample ROS package for pubsub communication&lt;/</span><span style="color:var(--shiki-token-string-expression)">description</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">  &lt;</span><span style="color:var(--shiki-token-string-expression)">maintainer</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">email</span><span style="color:var(--shiki-color-text)">=</span><span style="color:var(--shiki-token-string-expression)">&quot;oleather@watonomous.ca&quot;</span><span style="color:var(--shiki-color-text)">&gt;Owen Leather&lt;/</span><span style="color:var(--shiki-token-string-expression)">maintainer</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  &lt;</span><span style="color:var(--shiki-token-string-expression)">license</span><span style="color:var(--shiki-color-text)">&gt;Apache2.0&lt;/</span><span style="color:var(--shiki-token-string-expression)">license</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-comment)">&lt;!--https://www.ros.org/reps/rep-0149.html#dependency-tags--&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  &lt;</span><span style="color:var(--shiki-token-string-expression)">buildtool_depend</span><span style="color:var(--shiki-color-text)">&gt;ament_cmake&lt;/</span><span style="color:var(--shiki-token-string-expression)">buildtool_depend</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  &lt;</span><span style="color:var(--shiki-token-string-expression)">depend</span><span style="color:var(--shiki-color-text)">&gt;rclcpp&lt;/</span><span style="color:var(--shiki-token-string-expression)">depend</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-comment)">&lt;!--YOU ARE ADDING THIS MAINLY--&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  &lt;</span><span style="color:var(--shiki-token-string-expression)">depend</span><span style="color:var(--shiki-color-text)">&gt;std_msgs&lt;/</span><span style="color:var(--shiki-token-string-expression)">depend</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">  &lt;</span><span style="color:var(--shiki-token-string-expression)">test_depend</span><span style="color:var(--shiki-color-text)">&gt;ament_lint_auto&lt;/</span><span style="color:var(--shiki-token-string-expression)">test_depend</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  &lt;</span><span style="color:var(--shiki-token-string-expression)">test_depend</span><span style="color:var(--shiki-color-text)">&gt;ament_lint_common&lt;/</span><span style="color:var(--shiki-token-string-expression)">test_depend</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  &lt;</span><span style="color:var(--shiki-token-string-expression)">test_depend</span><span style="color:var(--shiki-color-text)">&gt;ament_cmake_gtest&lt;/</span><span style="color:var(--shiki-token-string-expression)">test_depend</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-comment)">&lt;!--https://www.ros.org/reps/rep-0149.html#export--&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  &lt;</span><span style="color:var(--shiki-token-string-expression)">export</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    &lt;</span><span style="color:var(--shiki-token-string-expression)">build_type</span><span style="color:var(--shiki-color-text)">&gt;ament_cmake&lt;/</span><span style="color:var(--shiki-token-string-expression)">build_type</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  &lt;/</span><span style="color:var(--shiki-token-string-expression)">export</span><span style="color:var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">&lt;/</span><span style="color:var(--shiki-token-string-expression)">package</span><span style="color:var(--shiki-color-text)">&gt;</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">This is telling the ROS2 pacakge manager to install the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">std_msgs</code> library.</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">In <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">src/robot/costmap/CMakeLists.txt</code> add in the following:</li>
</ul>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="cmake" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="cmake" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">cmake_minimum_required</span><span style="color:var(--shiki-color-text)">(VERSION 3.10)</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">project</span><span style="color:var(--shiki-color-text)">(costmap)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)"># Set compiler to use C++ 17 standard</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">NOT</span><span style="color:var(--shiki-color-text)"> CMAKE_CXX_STANDARD)</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">  set</span><span style="color:var(--shiki-color-text)">(CMAKE_CXX_STANDARD 17)</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">endif</span><span style="color:var(--shiki-color-text)">()</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)">(CMAKE_COMPILER_IS_GNUCXX </span><span style="color:var(--shiki-token-keyword)">OR</span><span style="color:var(--shiki-color-text)"> CMAKE_CXX_COMPILER_ID </span><span style="color:var(--shiki-token-keyword)">MATCHES</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">&quot;Clang&quot;</span><span style="color:var(--shiki-color-text)">)</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">  add_compile_options</span><span style="color:var(--shiki-color-text)">(-Wall -Wextra -Wpedantic)</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">endif</span><span style="color:var(--shiki-color-text)">()</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)"># Search for dependencies required for building this package</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">find_package</span><span style="color:var(--shiki-color-text)">(ament_cmake REQUIRED) </span><span style="color:var(--shiki-token-comment)"># ROS2 build tool</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">find_package</span><span style="color:var(--shiki-color-text)">(rclcpp REQUIRED)      </span><span style="color:var(--shiki-token-comment)"># ROS2 C++ package</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">find_package</span><span style="color:var(--shiki-color-text)">(std_msgs REQUIRED)    </span><span style="color:var(--shiki-token-comment)"># YOU ARE ONLY ADDING THIS TO THE FILE</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)"># Compiles source files into a library</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># A library is not executed, instead other executables can link</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># against it to access defined methods and classes.</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># We build a library so that the methods defined can be used by</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># both the unit test and ROS2 node executables.</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">add_library</span><span style="color:var(--shiki-color-text)">(costmap_lib</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  src/costmap_core.cpp)</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># Indicate to compiler where to search for header files</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">target_include_directories</span><span style="color:var(--shiki-color-text)">(costmap_lib</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  PUBLIC include)</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># Add ROS2 dependencies required by package</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">ament_target_dependencies(costmap_lib </span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  rclcpp</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  std_msgs </span><span style="color:var(--shiki-token-comment)"># YOU ARE ONLY ADDING THIS TO THE FILE</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)"># Create ROS2 node executable from source files</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">add_executable</span><span style="color:var(--shiki-color-text)">(costmap_node src/costmap_node.cpp)</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)"># Link to the previously built library to access costmap classes and methods</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">target_link_libraries</span><span style="color:var(--shiki-color-text)">(costmap_node costmap_lib)</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)"># Copy executable to installation location</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">install</span><span style="color:var(--shiki-color-text)">(TARGETS</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  costmap_node</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  DESTINATION lib/${PROJECT_NAME})</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)"># Copy launch and config files to installation location</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">install</span><span style="color:var(--shiki-color-text)">(DIRECTORY</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  config</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  DESTINATION share/${PROJECT_NAME})</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">ament_package()</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">This is telling ROS2 compiler that you need <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">std_msgs</code> to compile the code.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>4. Rebuild and Rerun the robot</strong></p>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="bash" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="bash" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)"># In a separate terminal while the other modules are running</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">./watod</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">down</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">robot</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-comment)"># shuts down the robot service</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">./watod</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">build</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">robot</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-comment)"># rebuilds the robot service</span></span>
<span class="line"><span style="color:var(--shiki-token-function)">./watod</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">up</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string)">robot</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-comment)"># starts the robot service up again</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">You can also just down, build, and up the whole thing. But this will eat up precious time.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>5. View your changes on Foxglove</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Create a new panel that views raw messages, enter <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/test_topic</code> as the topic you want to view</li>
<li class="nx-my-2">You should see something like the following:</li>
</ul>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img loading="lazy" width="2407" height="1621" decoding="async" data-nimg="1" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 320 200&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAg0lEQVR42mNwdHQ3N7OxMrcxMbXV0tTQ1dQytbDRMTRm0NHRV1HW4eYWEOYRUtK0UzZzVlaQM9A3Y1BT01ZW0hHg5lDRc7D2K3CJyDd0cNRUk2TQ0NBRVtbm5xSS19SyCUl09I118Ijw98tjUFcH6RATk5cQkpNT0pJRkuZiMGRg8AYAW5wVN8thCdsAAAAASUVORK5CYII=&#x27;/%3E%3C/svg%3E&quot;)" src="/_next/static/media/foxglove_warmup.e95853f7.png"/></p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Congratulations! You now know how to make a code change and have it propagate into Foxglove!</p>
<h2 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-10 nx-border-b nx-pb-1 nx-text-3xl nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400">What did I just Write?<a href="#what-did-i-just-write" id="what-did-i-just-write" class="subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">From the last example, you were probably thinking, &quot;What the hell did I just write?&quot; Well, you just wrote C++ code using the <a href="https://docs.ros.org/en/humble/index.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">ROS2 Humble<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> library! ROS2 is a powerful toolset of C++/Python libraries, build utilities, orchestration managers, logging tools, and visualization software used by the open-source robotics community. ROS originally spawned in the Bay Area as a way to mitigate &quot;reinventing the wheel&quot; of robotics infrastructure. Nowadays, it is used by a plethora of startups, and its repository has be forked many times for companies such as Cruise and Zoox. Currently, the maintainers of ROS were aquired by Google as a political play. You can learn more about the history of ROS <a href="https://www.theconstruct.ai/history-ros/" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">here<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a>.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">So how do you use ROS? Learning ROS (and robotics programming in general) takes time. As you make more mistakes, you will get a better understanding of it. For now, we will only go over some basic aspects of ROS that are expecially relevant to this assignment.</p>
<div class="nextra-callout nx-overflow-x-auto nx-mt-6 nx-flex nx-rounded-lg nx-border nx-py-2 ltr:nx-pr-4 rtl:nx-pl-4 contrast-more:nx-border-current contrast-more:dark:nx-border-current nx-border-yellow-100 nx-bg-yellow-50 nx-text-yellow-900 dark:nx-border-yellow-200/30 dark:nx-bg-yellow-700/30 dark:nx-text-yellow-200"><div class="nx-select-none nx-text-xl ltr:nx-pl-3 ltr:nx-pr-2 rtl:nx-pr-3 rtl:nx-pl-2" style="font-family:&quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;">️⚠️</div><div class="nx-w-full nx-min-w-0 nx-leading-7"><p class="nx-mt-6 nx-leading-7 first:nx-mt-0">We use ROS and ROS2 interchangeably. But keep in mind that they are two different libraries that you download separately. That being said, there is a lot that is similar between them.</p></div></div>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">ROS System Diagram<a href="#ros-system-diagram" id="ros-system-diagram" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Here&#x27;s a simple diagram of three ROSnodes talking to each other. This is the generic way most robotics developers look at robotics systems.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img loading="lazy" width="692" height="424" decoding="async" data-nimg="1" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 320 200&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAbElEQVR42g3KSRLCIBAAQP7/wdxcUkatsIkwMAyzaJ/b6Ror3UfcBbvQpLivtCuBY6KWvH9fBVGZ4bjU542xO1/kFfq/K6EtNNUYSvuC+zQ5E3Zo8NjysUGJORRmdmaWq2ADjGeteeKYg0ztB9yackZKpKAzAAAAAElFTkSuQmCC&#x27;/%3E%3C/svg%3E&quot;)" src="/_next/static/media/simple_ros_diagram.ee5c63d5.png"/></p>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">ROS Node<a href="#ros-node" id="ros-node" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">A process that is running instances of ROS objects is called a ROSnode. What this means is, as long as your code has ROS objects that listen/publish data to the network, then it is considered a ROSnode. You can think of ROSnodes as the building blocks of a robotics system.</p>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">ROS Messages and Topics<a href="#ros-messages-and-topics" id="ros-messages-and-topics" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">ROS at its core is a framework for interprocess communication. Given two processes (ROSnodes) running, how do you make them communicate with each other? Especially when one process requires the output of another.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">The way ROS does this is through passing messages over a transport protocol such as UDP or TCP. In simpler terms, it is packaging data into a format that can be passed throughout your computer&#x27;s internal network, at which point another program can then read that pacakged data, unpack it, and use it for processing.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">ROS communication involves two things: <strong>topics</strong>, and <strong>messages</strong>. A <strong>message</strong> is an arbitary data structure (an integer, or struct of multiple objects) that is used to represent the data that two or more processes will read and write. In ROS, there are a ton of prebuilt messages that can be used for your robotics project. We often don&#x27;t need to create our own custom messages, but when we do, we have to build messages using ROS&#x27;s build tools. You can think of messages as nothing more than the data that is to be sent between processes.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">As a result, another question arises: How do we manage where to read and write messages? For example, if two processes are publishing the same message type, then how can we differentiate between a message coming from one process vs coming from the other process? Well that is where <strong>topics</strong> become important. ROS topics represent the medium in which messages should be passed through. You can think of them as URLs to a website. It you specify one URL in you browser, then you will get all the information available in that URL (the website itself) Topics functions very similarly. You can specify the topic a process can read/write to, and ROS fill figure out all of the networking jargon in the background.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">You read more about it <a href="https://industrial-training-master.readthedocs.io/en/melodic/_source/session1/Topics-and-Messages.html#:~:text=The%20first%20type%20of%20ROS,messages%20on%20that%20same%20topic." target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">here<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a></p>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">ROS Publishers and Subscribers<a href="#ros-publishers-and-subscribers" id="ros-publishers-and-subscribers" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">ROS utilizes these topics and messages with simple callable objects in C++ and Python. If you want to send messages out to a topic, use a publisher. Likewise, if you want to listen for messages in a topic, use a subscriber. The syntax for writing a publisher and subscriber can be found <a href="https://docs.ros.org/en/foxy/Tutorials/Beginner-Client-Libraries/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">here<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a></p>
<div class="nextra-callout nx-overflow-x-auto nx-mt-6 nx-flex nx-rounded-lg nx-border nx-py-2 ltr:nx-pr-4 rtl:nx-pl-4 contrast-more:nx-border-current contrast-more:dark:nx-border-current nx-border-yellow-100 nx-bg-yellow-50 nx-text-yellow-900 dark:nx-border-yellow-200/30 dark:nx-bg-yellow-700/30 dark:nx-text-yellow-200"><div class="nx-select-none nx-text-xl ltr:nx-pl-3 ltr:nx-pr-2 rtl:nx-pr-3 rtl:nx-pl-2" style="font-family:&quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;">️⚠️</div><div class="nx-w-full nx-min-w-0 nx-leading-7"><p class="nx-mt-6 nx-leading-7 first:nx-mt-0">In this assignment, you will have to split your code into a C++ header file and a regular C++ file. You can ask LLNs how to do this :).</p></div></div>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">In the warmup, we made you write a simple publisher. Please use the warmup code as a reference to how your ROS code should fit into the assignment&#x27;s code format (as in what should be in the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">.hpp</code> file and what should be in the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">.cpp</code> file).</p>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">The Sky&#x27;s the Limit<a href="#the-skys-the-limit" id="the-skys-the-limit" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">A robotics system can be composed of a bunch of different ROSnodes communcating in a bunch of different ways. In fact, a ROSnode can consist of multiple publishers and subscribers. You just need to be careful of the concurrency between them.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img loading="lazy" width="614" height="316" decoding="async" data-nimg="1" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 320 160&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAIAAAA8r+mnAAAAV0lEQVR42iXIwRJAMAxF0f7/h9nZsDasUDqoVEiTlkydzXtzjYiklBkcH+PjLRNqUAYU4lxXV9f0Q+uWESAQkWHmyILrFHebbp+Z3sL8E0/AELYA+nPxAdlCW/T+3IvZAAAAAElFTkSuQmCC&#x27;/%3E%3C/svg%3E&quot;)" src="/_next/static/media/limitless_potential.d6f51020.png"/></p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Unfortunately, the only way to truly understand ROS is to read their docs and use it. If you have any questions when programming ROS, please ask them in our Discord.</p>
<h2 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-10 nx-border-b nx-pb-1 nx-text-3xl nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400">How to Code Intelligence<a href="#how-to-code-intelligence" id="how-to-code-intelligence" class="subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Now that you&#x27;ve gotten into the swing of things, let&#x27;s take a step back and take a look at the field of robotics as a whole.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">A reoccuring question roboticists often have is:</p>
<blockquote class="nx-mt-6 nx-border-gray-300 nx-italic nx-text-gray-700 dark:nx-border-gray-700 dark:nx-text-gray-400 first:nx-mt-0 ltr:nx-border-l-2 ltr:nx-pl-6 rtl:nx-border-r-2 rtl:nx-pr-6">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">&quot;How do we make robots think?&quot;</p>
</blockquote>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">This question scales with the complexity of the robot. For a line following robot, this could be extremely easy: the robot simply needs to turn slightly left or right depending on where the line is. However, for something as complex as a humanoid robot, the question becomes alot more daunting.</p>
<table class="nx-block nx-overflow-x-scroll nextra-scrollbar nx-mt-6 nx-p-0 first:nx-mt-0"><thead><tr class="nx-m-0 nx-border-t nx-border-gray-300 nx-p-0 dark:nx-border-gray-600 even:nx-bg-gray-100 even:dark:nx-bg-gray-600/20"><th class="nx-m-0 nx-border nx-border-gray-300 nx-px-4 nx-py-2 nx-font-semibold dark:nx-border-gray-600" align="center">Line Follower Robot</th><th class="nx-m-0 nx-border nx-border-gray-300 nx-px-4 nx-py-2 nx-font-semibold dark:nx-border-gray-600" align="center">Humanoid Robot</th></tr></thead><tbody><tr class="nx-m-0 nx-border-t nx-border-gray-300 nx-p-0 dark:nx-border-gray-600 even:nx-bg-gray-100 even:dark:nx-bg-gray-600/20"><td class="nx-m-0 nx-border nx-border-gray-300 nx-px-4 nx-py-2 dark:nx-border-gray-600" align="center"><img loading="lazy" width="423" height="318" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/buggy3.671a9b36.gif"/></td><td class="nx-m-0 nx-border nx-border-gray-300 nx-px-4 nx-py-2 dark:nx-border-gray-600" align="center"><img loading="lazy" width="480" height="270" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/figure.4dc94cc3.gif"/></td></tr></tbody></table>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">As you progress through your career in robotics, you will witness a multitude of robotics systems. Some that can be built by 5 people, others that have to be built by 100+ people (but actually only really written by like 5 people).</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">However, all robotic systems seek to do one thing: <strong>mimic aspects of the human brain to achieve a desired goal</strong>. Of course, sometimes it&#x27;s to mimic human cognition entirely, but for most applications of robotics, there is a economical usecase that needs to be fulfilled.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">In fact, every roboticist falls somewhere along a spectrum. At one end are the dreamers—a visionary group almost cult-like in their pursuit of playing god, driven by the singular ambition to create artificial general intelligence. At the other end are the pessimists—pragmatic, sometimes cynical individuals who see robots as little more than tools, focused solely on their limitations and building them only for profit.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">You decide where you want to be. But nevertheless, let&#x27;s not start you off pessimistic.</p>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">A Simple Model of the Human Brain<a href="#a-simple-model-of-the-human-brain" id="a-simple-model-of-the-human-brain" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Human intelligence is a fascinating thing. Somehow this glob of flesh in your head is capable of controlling your every move, imagining the impossible, and deciphering the complexities of the universe. However, your mind has limitations, and all brains are not perfectly unique. In fact, every human brain shares a common set of modules. For example, it is the reason why we can translate languages. Noam Chomsky, a founding figure of linguistics, hypothesized that we as humans share an innate language faculty. That all of our brains have an innate structure responsible for communication. These limitations are what we use to understand the brain, and with that we can spawn hypotheses on how we think.</p>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl">Here&#x27;s a good guess (it&#x27;s very limited, but it&#x27;s good enough for most roboticists):<a href="#heres-a-good-guess-its-very-limited-but-its-good-enough-for-most-roboticists" id="heres-a-good-guess-its-very-limited-but-its-good-enough-for-most-roboticists" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img loading="lazy" width="950" height="864" decoding="async" data-nimg="1" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 320 280&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAIAAAC6O5sJAAAAuElEQVR42i2NTQvBYACA39/q6OLCxckfEHF0oBCKluZAFPIxZkbbyKhhbTPTlr3T2Dfhqef0HB4QBIHrOIp6H28ljBEhtIIvwPN9XpKoBdGOJ2olpDpqEfuZ7djgRO+GOeQwx5UxipODaCcWqYTWzAqQ7SESTi87qMzkjXKNL5YJciUKAlA1DeuPJjMM7zX1ZMqbYv/HxyPHoY3m9XJ2fXNNs5lsQYcG+HXrZT0fJrzJG4qt1rs6hG9xDIuUDN8XHgAAAABJRU5ErkJggg==&#x27;/%3E%3C/svg%3E&quot;)" src="/_next/static/media/crazy_brain.0f5b6efd.png"/></p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Generally, we as humans do the following:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>Perception:</strong> Identify, organize, and interpret information from our five senses.</li>
<li class="nx-my-2"><strong>World Modeling:</strong> Utilize and contextualize what we perceive to build an inner model of the world. We also build higher-order attributes on these percepts for the sake of reasoning and predicting possible future states of the world.</li>
<li class="nx-my-2"><strong>Memory:</strong> Store our models of the world, our actions, and their resulting consequences, for the sake of optimizing future actions.</li>
<li class="nx-my-2"><strong>Configuration:</strong> Decides what we should pay attention to. This part of our brain takes in input from all the other parts and configures them to perform the task at hand.</li>
<li class="nx-my-2"><strong>Action:</strong> Plans and executes our desired actions based on the task at hand. This ranges from long-term planning down to distinct movements in your muscles.</li>
</ul>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Let&#x27;s describe your brain at this very moment... Right now your brain is perceiving and identifying your surroundings. Your eyes recognize the computer screen in front of you, a desk, a wall, perhaps a keyboard and mouse. At the same time, you also understand that the desk or computer screen in front of you is the same desk and computer screen you saw 2 seconds ago. That is your perception.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">After that, your brain stitches what it senses into a inner model of the world. You know that the computer screen in front of you is on top of the desk you are working on. It is the same reason why you still roughly know the structure of the room around you when you close your eyes. This inner world model is also used to draw connection and implications. For example, you know that a computer screen normally doesn&#x27;t move on its own. These sorts of implications allow our brains to predict possible future states of the world.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Based on all the information your brain has grabbed so far, you can then go on to decide what you want to pay attention to. For example, your mind is probably focused on finishing this assignment. Therefore, you configured your mind to be in a state that can finish coding assignments.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Finally, now that you know as much as you can about the world, and what you want to do, you now plan you course of action. In order to finish your coding assignment, you know that you need to stay seated at your desk, and your hands ready to type. You brain converts these planned intentions into primitive motor movements such as moving the muscles in your fingures and your eyes.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Once you know the results of your actions, your brain stores those results in your memory. You can then use past results to further improve your future actions.</p>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">How does the Brain Tie into Robotics?<a href="#how-does-the-brain-tie-into-robotics" id="how-does-the-brain-tie-into-robotics" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Every robotics system can be thought of in the context of the modules explained above.</strong> No matter how simple or complex the robot is, its inner software system generally follows a flow of information similar to our simplified model of the brain.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img loading="lazy" width="1372" height="542" decoding="async" data-nimg="1" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 320 120&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAIAAAAhqtkfAAAAVklEQVR42gFLALT/APDOy+PV4sTF88HB3MvW1q3TsdHju+TrkwDrvLjez969yvylqM+7xs2/2MDO27/n67QA58C+4dffytzzr7TTycrYycbF2NfZ4ODjhrs6SKJz7rsAAAAASUVORK5CYII=&#x27;/%3E%3C/svg%3E&quot;)" src="/_next/static/media/av_arch_random.e6862fbc.png"/></p>
<blockquote class="nx-mt-6 nx-border-gray-300 nx-italic nx-text-gray-700 dark:nx-border-gray-700 dark:nx-text-gray-400 first:nx-mt-0 ltr:nx-border-l-2 ltr:nx-pl-6 rtl:nx-border-r-2 rtl:nx-pr-6">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">This is a random AV architecture we pulled from online. Usually software architectures are grouped differently by pretty much everyone. Try connecting its various modules to our simple model of the human brain.</p>
</blockquote>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Take an autonomous vehicle for example.</strong> It&#x27;s perception modules are its sensors (camera, radar, lidar, sonar, etc.). Its world model is a highly detailed map of the road (including lanes, traffic signs, lights, etc. This is known as an HD Map). The car also uses its world model to predict the future paths of people and cars around it. Its configurator is its behaviour tree, which is a more complex state machine that defines what the robot should do based on the current state its in. Finally, its action is the various levels of planning: Global Planning, Local Planning, and Control sequences to steer the vehicle and control its throttle.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img loading="lazy" width="793" height="541" decoding="async" data-nimg="1" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 320 200&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAgklEQVR42hXLMQrCMBQA0JzeC3gDpYMIgouL6AWcKi0oBa0lbWKSb9Ifm59MKX37YymlQSo+qA+X+CcKqBTPObMYozbws05IrYy7l+VqvfPeMyKy1tIiltVjX2y2xeF8Oi7DAIQQpik8m/Z2vYi+7boXQ0QA+GrbvEUvDI6uqusRcQZSMGr529Kj7QAAAABJRU5ErkJggg==&#x27;/%3E%3C/svg%3E&quot;)" src="/_next/static/media/line_following_arch.466626b8.png"/></p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Something more simple can be a line follower robot.</strong> This robot&#x27;s perception is a single sensor that tracks where the line is. Its world model is very limited, as it only needs to know where it is with respect to the line. Likewise, its configuration is sparse because its sole purpose is to follow a line. Finally, its action module just moves the left of right wheel faster based on where the line is with respect to the robot. Overall, you should be noticing a pattern here. We can view any robot through the lens of a simplified model of the human brain.</p>
<h2 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-10 nx-border-b nx-pb-1 nx-text-3xl nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400">Time to Finish your Assignment<a href="#time-to-finish-your-assignment" id="time-to-finish-your-assignment" class="subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">In this assignment, you are given a simulation of a robot with a laserscanner and a camera. Because the laser scanner gives us a very good understanding of how far hard objects are away from us, we will only the laser scanner for this assignment. The goal of the robot is to move to a point specified by the user. Note, to make the assignment easier, we have already given you the constant position of the robot with respect to the map. This is represented by an <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">Odometry</code> message present in the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/odom/filtered</code> topic.</p>
<div class="nextra-callout nx-overflow-x-auto nx-mt-6 nx-flex nx-rounded-lg nx-border nx-py-2 ltr:nx-pr-4 rtl:nx-pl-4 contrast-more:nx-border-current contrast-more:dark:nx-border-current nx-border-yellow-100 nx-bg-yellow-50 nx-text-yellow-900 dark:nx-border-yellow-200/30 dark:nx-bg-yellow-700/30 dark:nx-text-yellow-200"><div class="nx-select-none nx-text-xl ltr:nx-pl-3 ltr:nx-pr-2 rtl:nx-pr-3 rtl:nx-pl-2" style="font-family:&quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;">️⚠️</div><div class="nx-w-full nx-min-w-0 nx-leading-7"><p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Think back to the previous section:</strong> if you were the robot in that simulation, and all you knew was how to control yourself, where your goal position was, and how far dangerous things are from you, then how would you plan to get to that point?</p></div></div>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">From before, you know that this robot will need the following high-level modules: perception, world modeling, memory, configuration, and action. With time, you will learn to associate different algorithms to different modules, but for now, we will just tell you a good sequence of modules that can solve the assignment. <strong>FEEL FREE TO TRY DIFFERENT APPROACHES.</strong></p>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">A Simple Navigation Architecture<a href="#a-simple-navigation-architecture" id="a-simple-navigation-architecture" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Below is a diagram of a simple navigation architecture that can be used to help the robot navigate from point A to point B.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img loading="lazy" width="1954" height="1152" decoding="async" data-nimg="1" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 320 200&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAbklEQVR42h3J0Q6DIAxAUf7///ay6GJ0Y0hIoS11gK7MeZ9ucgwGzrS1vWjB4TYs91Er995NTpKAOBIHh8EVguj9Mr3NiXVrr9GJlApWEJZ5nR/PP+zt+EghYlhtxmgn9z3UqGq/wsTBwzmCLCQ/iwlxX4PIVrUAAAAASUVORK5CYII=&#x27;/%3E%3C/svg%3E&quot;)" src="/_next/static/media/assignment_arch.9b616eb2.png"/></p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Here is a description of each node:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>Costmap:</strong> A ROSnode that takes in LaserScans from the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/lidar</code> topic, and converts them into a costmap. This is a discretized grid of squares that represent the chances as object exists in that grid with an arbitrary score.</li>
<li class="nx-my-2"><strong>Map Memory:</strong> A ROSnode that take in the costmaps overtime and stitches them together to form a global map. This utilizes the robot&#x27;s own position in the map found as an Odometry message in the &#x27;/odom/filtered&#x27; topic.</li>
<li class="nx-my-2"><strong>Planner:</strong> A ROSnode that takes in the global map and odometry to use the A* algorithm to plan how to get from point A to point B.</li>
<li class="nx-my-2"><strong>Control:</strong> A ROSnode that takes in the path from the planner and odometry, and does Pure Pursuit control to physically move the robot along that path. It does this by publishing Twist messages to the &#x27;/cmd_vel&#x27; topic.</li>
</ul>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">With these four nodes, you can make the robot navigate to anywhere in the map!</p>
<h2 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-10 nx-border-b nx-pb-1 nx-text-3xl nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400">Implementation Details<a href="#implementation-details" id="implementation-details" class="subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">This section will be details on how to program each node. You can use this section as a reference for your own code, and as a foundation for where to get started.</p>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl"><strong>Costmap Node</strong><a href="#costmap-node" id="costmap-node" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<blockquote class="nx-mt-6 nx-border-gray-300 nx-italic nx-text-gray-700 dark:nx-border-gray-700 dark:nx-text-gray-400 first:nx-mt-0 ltr:nx-border-l-2 ltr:nx-pl-6 rtl:nx-border-r-2 rtl:nx-pr-6">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Should contain the following ROS constructs:</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 Subscriber that subscribes to the &#x27;/lidar&#x27; topic for <a href="https://docs.ros.org/en/noetic/api/sensor_msgs/html/msg/LaserScan.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">sensor_msgs::msg::LaserScan<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> messages</li>
<li class="nx-my-2">1 Publisher that publishes <a href="https://docs.ros.org/en/lunar/api/nav_msgs/html/msg/OccupancyGrid.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">nav_msgs::msg::OccupancyGrid<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> messages to a &#x27;/costmap&#x27; topic</li>
</ul>
</blockquote>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img src="" alt=""/></p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Equivalent to basic pereption, the Costmap Node is responsible for processing data from laserscans to create a discretized map of where the robot can and cannot go. A simple costmap can have binary values 0 and 1 and is called an occupancy grid. However, often sensor readings are noisey, so when a laser scan tells you something is 10m away, it might actually be 9.5-10.5 meters away. That is why a costmap is useful. It allows us to represent the map as a range of values representing the &#x27;cost&#x27; that would incur should the robot cross into that part of the map. This means that a high cost equates to places where objects are definitely present and the robot should avoid. Areas of the map with low cost represent places where we are uncertain of whether an object is near, but we should trek safely nontheless.</p>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Steps to Create a Basic Costmap</strong><a href="#steps-to-create-a-basic-costmap" id="steps-to-create-a-basic-costmap" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Subscribe to the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/lidar</code> Topic</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Receive <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">sensor_msgs::msg::LaserScan</code> messages from the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/lidar</code> topic.</li>
<li class="nx-my-2">The <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">LaserScan</code> message contains:<!-- -->
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">angle_min</code>, <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">angle_max</code>: The start and end angles of the scan.</li>
<li class="nx-my-2"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">angle_increment</code>: The angular resolution of the scan.</li>
<li class="nx-my-2"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">ranges</code>: Array of distance measurements.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Initialize the Costmap</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Create a 2D array to represent the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">OccupancyGrid</code>. Each cell corresponds to a grid space in the real world.</li>
<li class="nx-my-2">Define the resolution of the costmap (e.g., 0.1 meters per cell) and its size.</li>
<li class="nx-my-2">Initialize all cells to a default value (e.g., 0 for free space).</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Convert LaserScan to Grid Coordinates</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">For each valid range value in <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">ranges</code>:<!-- -->
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Compute the Cartesian coordinates of the detected point:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>x</mi><mo>=</mo><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>e</mi><mo>⋅</mo><mi>cos</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x = range \cdot \cos(angle)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mord mathnormal">an</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">cos</span><span class="mopen">(</span><span class="mord mathnormal">an</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span></span>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>y</mi><mo>=</mo><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>e</mi><mo>⋅</mo><mi>sin</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>a</mi><mi>n</mi><mi>g</mi><mi>l</mi><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y = range \cdot \sin(angle)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mord mathnormal">an</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mop">sin</span><span class="mopen">(</span><span class="mord mathnormal">an</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span></span>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Transform these coordinates into grid indices using the resolution and origin of the costmap.</p>
</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Mark Obstacles</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Set the cells corresponding to detected obstacle positions to a high cost (e.g., 100 for &quot;occupied&quot;).</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Inflate Obstacles</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Define an <strong>inflation radius</strong> (e.g., 1 meter) and a maximum cost for inflated cells.</li>
<li class="nx-my-2">For each obstacle cell:<!-- -->
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Calculate the Euclidean distance to surrounding cells.</li>
<li class="nx-my-2">Assign a cost to the surrounding cells based on the distance:<!-- -->
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mi>t</mi><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mi mathvariant="normal">_</mi><mi>c</mi><mi>o</mi><mi>s</mi><mi>t</mi><mo>⋅</mo><mrow><mo fence="true">(</mo><mn>1</mn><mo>−</mo><mfrac><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi></mrow><mrow><mi>i</mi><mi>n</mi><mi>f</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mi mathvariant="normal">_</mi><mi>r</mi><mi>a</mi><mi>d</mi><mi>i</mi><mi>u</mi><mi>s</mi></mrow></mfrac><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">cost = max\_cost \cdot \left(1 - \frac{distance}{inflation\_radius}\right)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em"></span><span class="mord mathnormal">cos</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.9251em;vertical-align:-0.31em"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mord" style="margin-right:0.02778em">_</span><span class="mord mathnormal">cos</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:2.446em;vertical-align:-0.996em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">(</span></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord" style="margin-right:0.02778em">_</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord mathnormal">u</span><span class="mord mathnormal">s</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">an</span><span class="mord mathnormal">ce</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.996em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">)</span></span></span></span></span></span></span>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Only assign a cost if the calculated cost is higher than the cell&#x27;s current value.</li>
<li class="nx-my-2">Do not assign a cost to cells beyond the inflation radius.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Publish the Costmap</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Convert the 2D costmap array into a <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">nav_msgs::msg::OccupancyGrid</code> message.</li>
<li class="nx-my-2">Populate the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">OccupancyGrid</code> fields:<!-- -->
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">header</code>: Include the frame ID and timestamp.</li>
<li class="nx-my-2"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">info</code>: Define the resolution, origin, and size of the grid.</li>
<li class="nx-my-2"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">data</code>: Flatten the 2D costmap array into a 1D array.</li>
</ul>
</li>
<li class="nx-my-2">Publish the message to the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/costmap</code> topic.</li>
</ul>
</li>
</ol>
<hr class="nx-my-8 nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400"/>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Code Example (Pseudo-ROS 2 Implementation)</strong><a href="#code-example-pseudo-ros-2-implementation" id="code-example-pseudo-ros-2-implementation" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="cpp" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="cpp" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">void</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">laserCallback</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> sensor_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">LaserScan</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">SharedPtr</span><span style="color:var(--shiki-color-text)"> scan) {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Step 1: Initialize costmap</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">initializeCostmap</span><span style="color:var(--shiki-color-text)">();</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Step 2: Convert LaserScan to grid and mark obstacles</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">for</span><span style="color:var(--shiki-color-text)"> (</span><span style="color:var(--shiki-token-keyword)">size_t</span><span style="color:var(--shiki-color-text)"> i </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-color-text)">; i </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">scan</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-constant)">ranges</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">size</span><span style="color:var(--shiki-color-text)">(); </span><span style="color:var(--shiki-token-keyword)">++</span><span style="color:var(--shiki-color-text)">i) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> angle </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">scan</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">angle_min </span><span style="color:var(--shiki-token-keyword)">+</span><span style="color:var(--shiki-color-text)"> i </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">scan</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">angle_increment;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> range </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">scan</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">ranges[i];</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> (range </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">scan</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">range_max </span><span style="color:var(--shiki-token-keyword)">&amp;&amp;</span><span style="color:var(--shiki-color-text)"> range </span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">scan</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">range_min) {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">            // Calculate grid coordinates</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-keyword)">int</span><span style="color:var(--shiki-color-text)"> x_grid</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> y_grid;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-function)">convertToGrid</span><span style="color:var(--shiki-color-text)">(range</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> angle</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> x_grid</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> y_grid);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-function)">markObstacle</span><span style="color:var(--shiki-color-text)">(x_grid</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> y_grid);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Step 3: Inflate obstacles</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">inflateObstacles</span><span style="color:var(--shiki-color-text)">();</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Step 4: Publish costmap</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">publishCostmap</span><span style="color:var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<hr class="nx-my-8 nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400"/>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl">Key Points<a href="#key-points" id="key-points" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">The <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">LaserScan</code> data provides obstacle locations in polar coordinates, which are converted to grid coordinates.</li>
<li class="nx-my-2">The costmap marks obstacles and inflates costs around them using a linear scale within a defined radius.</li>
</ul>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl"><strong>Map Memory Node</strong><a href="#map-memory-node" id="map-memory-node" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<blockquote class="nx-mt-6 nx-border-gray-300 nx-italic nx-text-gray-700 dark:nx-border-gray-700 dark:nx-text-gray-400 first:nx-mt-0 ltr:nx-border-l-2 ltr:nx-pl-6 rtl:nx-border-r-2 rtl:nx-pr-6">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Should contain the following ROS constructs:</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 Subscriber that subscribes to the &#x27;/costmap&#x27; topic for <a href="https://docs.ros.org/en/lunar/api/nav_msgs/html/msg/OccupancyGrid.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">nav_msgs::msg::OccupancyGrid<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> messages</li>
<li class="nx-my-2">1 Subscriber that subscribes to the &#x27;/odom/filtered&#x27; topic for <a href="https://docs.ros.org/en/noetic/api/nav_msgs/html/msg/Odometry.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">nav_msgs::msg::Odometry<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> messages</li>
<li class="nx-my-2">1 Publisher that publishes <a href="https://docs.ros.org/en/lunar/api/nav_msgs/html/msg/OccupancyGrid.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">nav_msgs::msg::OccupancyGrid<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> messages to a &#x27;/map&#x27; topic</li>
<li class="nx-my-2">1 Timer that is used to limit the number of times the map is updated (this is for optimization, we don&#x27;t need to update the map everytime we get a costmap)</li>
</ul>
</blockquote>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img src="" alt=""/></p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">This node is a combination of world modeling and memory. Given that we know where we can and cannot go at a given time, we can infer the inehrent structure of the entire map as we move the robot around. This is useful because we can stop the robot from retracing its steps and planning a new route that goes through obstacles that we previously detected.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">To reduce the frequency of map updates, you can design the mapping node to only fuse maps when the robot has moved a set distance. For the explanations below, we use 1.5m.</p>
<hr class="nx-my-8 nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400"/>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Steps to Build and Update the Map</strong><a href="#steps-to-build-and-update-the-map" id="steps-to-build-and-update-the-map" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Subscribe to <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/costmap</code> Topic</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Receive <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">nav_msgs::msg::OccupancyGrid</code> messages from the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/costmap</code> topic.</li>
<li class="nx-my-2">Each costmap represents the local environment as detected by the robot at a specific moment.</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Subscribe to <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/odom/filtered</code> Topic</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Receive <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">nav_msgs::msg::Odometry</code> messages from the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/odom/filtered</code> topic.</li>
<li class="nx-my-2">Use this data to track the robot’s movement and determine when it has moved 5 meters since the last map update.</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Track Robot Movement</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Store the robot’s initial position and periodically compute its distance from the last update position:<!-- -->
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><mi>i</mi><mi>s</mi><mi>t</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>e</mi><mo>=</mo><msqrt><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>c</mi><mi>u</mi><mi>r</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msub><mo>−</mo><msub><mi>x</mi><mrow><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></mrow></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><msub><mi>y</mi><mrow><mi>c</mi><mi>u</mi><mi>r</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msub><mo>−</mo><msub><mi>y</mi><mrow><mi>l</mi><mi>a</mi><mi>s</mi><mi>t</mi></mrow></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">distance = \sqrt{(x_{current} - x_{last})^2 + (y_{current} - y_{last})^2}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">an</span><span class="mord mathnormal">ce</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.2561em"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9839em"><span class="svg-align" style="top:-3.2em"><span class="pstrut" style="height:3.2em"></span><span class="mord" style="padding-left:1em"><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">rre</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em"><span style="top:-2.989em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">rre</span><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em"><span style="top:-2.989em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9439em"><span class="pstrut" style="height:3.2em"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119 c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120 c340,-704.7,510.7,-1060.3,512,-1067 l0 -0 c4.7,-7.3,11,-11,19,-11 H40000v40H1012.3 s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232 c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1 s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26 c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z M1001 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2561em"><span></span></span></span></span></span></span></span></span></span>
</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Aggregate Costmaps into the Global Map</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Maintain a global <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">OccupancyGrid</code> that represents the map of the environment.</li>
<li class="nx-my-2">When the robot moves 1.5 meters, integrate the most recent costmap into the global map:<!-- -->
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Transform the costmap into the global frame using the robot’s current position and orientation.</li>
<li class="nx-my-2">Update the global map by merging the transformed costmap into it, prioritizing new data over old data.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Optimize with a Timer</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Use a timer to limit the frequency of map updates to a reasonable rate (e.g., every 1 second).</li>
<li class="nx-my-2">Only perform a map update if the robot has moved 1.5 meters since the last update position.</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Publish the Map</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Publish the aggregated global map as a <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">nav_msgs::msg::OccupancyGrid</code> message to the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/map</code> topic.</li>
</ul>
</li>
</ol>
<hr class="nx-my-8 nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400"/>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Logic for Map Update</strong><a href="#logic-for-map-update" id="logic-for-map-update" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Check if the robot has moved 5 meters since the last map update.</li>
<li class="nx-my-2">If yes, aggregate the most recent costmap into the global map.</li>
<li class="nx-my-2">Publish the updated map.</li>
</ol>
<hr class="nx-my-8 nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400"/>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Linear Fusion of Costmaps</strong><a href="#linear-fusion-of-costmaps" id="linear-fusion-of-costmaps" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">When integrating costmaps:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">If a cell in the new costmap has a known value (occupied or free), overwrite the corresponding cell in the global map.</li>
<li class="nx-my-2">If a cell in the new costmap is unknown, retain the previous value in the global map.</li>
</ul>
<hr class="nx-my-8 nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400"/>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Code Example (Pseudo-ROS 2 Implementation)</strong><a href="#code-example-pseudo-ros-2-implementation-1" id="code-example-pseudo-ros-2-implementation-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="cpp" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="cpp" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">class</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">MappingNode</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">public</span><span style="color:var(--shiki-color-text)"> rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">Node</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">public</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">MappingNode</span><span style="color:var(--shiki-color-text)">() </span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">Node</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;mapping_node&quot;</span><span style="color:var(--shiki-color-text)">)</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">last_x</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">0.0</span><span style="color:var(--shiki-color-text)">)</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">last_y</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">0.0</span><span style="color:var(--shiki-color-text)">)</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">distance_threshold</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">5.0</span><span style="color:var(--shiki-color-text)">) {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Initialize subscribers</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        costmap_sub_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">create_subscription</span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-color-text)">nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">OccupancyGrid</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-string-expression)">&quot;/costmap&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">10</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">bind</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">MappingNode</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">costmapCallback</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">placeholders</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">_1));</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        odom_sub_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">create_subscription</span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-color-text)">nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Odometry</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-string-expression)">&quot;/odom/filtered&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">10</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">bind</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">MappingNode</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">odomCallback</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">placeholders</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">_1));</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Initialize publisher</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        map_pub_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">create_publisher</span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-color-text)">nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">OccupancyGrid</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;/map&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">10</span><span style="color:var(--shiki-color-text)">);</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Initialize timer</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        timer_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">create_wall_timer</span><span style="color:var(--shiki-color-text)">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">chrono</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">seconds</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)">)</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">bind</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">MappingNode</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">updateMap</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-color-text)">));</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">private</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Subscribers and Publisher</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Subscription&lt;nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">OccupancyGrid</span><span style="color:var(--shiki-color-text)">&gt;</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr costmap_sub_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Subscription&lt;nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">Odometry</span><span style="color:var(--shiki-color-text)">&gt;</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr odom_sub_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Publisher&lt;nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">OccupancyGrid</span><span style="color:var(--shiki-color-text)">&gt;</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr map_pub_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">TimerBase</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr timer_;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Global map and robot position</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">OccupancyGrid global_map_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> last_x</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> last_y;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> distance_threshold;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">bool</span><span style="color:var(--shiki-color-text)"> costmap_updated_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">false</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Callback for costmap updates</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">void</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">costmapCallback</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">OccupancyGrid</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">SharedPtr</span><span style="color:var(--shiki-color-text)"> msg) {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Store the latest costmap</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        latest_costmap_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)">msg;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        costmap_updated_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Callback for odometry updates</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">void</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">odomCallback</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Odometry</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">SharedPtr</span><span style="color:var(--shiki-color-text)"> msg) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> x </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">msg</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-constant)">pose</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-constant)">pose</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-constant)">position</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">x;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> y </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">msg</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-constant)">pose</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-constant)">pose</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-constant)">position</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">y;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Compute distance traveled</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> distance </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">sqrt</span><span style="color:var(--shiki-color-text)">(std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">pow</span><span style="color:var(--shiki-color-text)">(x </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)"> last_x</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">2</span><span style="color:var(--shiki-color-text)">) </span><span style="color:var(--shiki-token-keyword)">+</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">pow</span><span style="color:var(--shiki-color-text)">(y </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)"> last_y</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">2</span><span style="color:var(--shiki-color-text)">));</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> (distance </span><span style="color:var(--shiki-token-keyword)">&gt;=</span><span style="color:var(--shiki-color-text)"> distance_threshold) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            last_x </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> x;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            last_y </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> y;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            should_update_map_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Timer-based map update</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">void</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">updateMap</span><span style="color:var(--shiki-color-text)">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> (should_update_map_ </span><span style="color:var(--shiki-token-keyword)">&amp;&amp;</span><span style="color:var(--shiki-color-text)"> costmap_updated_) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-function)">integrateCostmap</span><span style="color:var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-constant)">map_pub_</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">publish</span><span style="color:var(--shiki-color-text)">(global_map_);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            should_update_map_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">false</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Integrate the latest costmap into the global map</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">void</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">integrateCostmap</span><span style="color:var(--shiki-color-text)">() {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Transform and merge the latest costmap into the global map</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // (Implementation would handle grid alignment and merging logic)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Flags</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">OccupancyGrid latest_costmap_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">bool</span><span style="color:var(--shiki-color-text)"> should_update_map_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">false</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">};</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<hr class="nx-my-8 nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400"/>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Key Points</strong><a href="#key-points-1" id="key-points-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">The global map is updated only when the robot moves at least 5 meters and at a controlled frequency.</li>
<li class="nx-my-2">The node uses odometry to track movement and costmaps to update the environment representation.</li>
<li class="nx-my-2">A timer ensures that updates do not occur too frequently, optimizing computational resources.</li>
</ol>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl"><strong>Planner Node</strong><a href="#planner-node" id="planner-node" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<blockquote class="nx-mt-6 nx-border-gray-300 nx-italic nx-text-gray-700 dark:nx-border-gray-700 dark:nx-text-gray-400 first:nx-mt-0 ltr:nx-border-l-2 ltr:nx-pl-6 rtl:nx-border-r-2 rtl:nx-pr-6">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Should contain the following ROS constructs:</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 Subscriber that subscribes to the &#x27;/map&#x27; topic for <a href="https://docs.ros.org/en/lunar/api/nav_msgs/html/msg/OccupancyGrid.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">nav_msgs::msg::OccupancyGrid<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> messages</li>
<li class="nx-my-2">1 Subscriber that subscribes to the &#x27;/goal_point&#x27; topic for <a href="https://docs.ros.org/en/noetic/api/geometry_msgs/html/msg/PointStamped.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">geometry_msgs::msg::PointStamped<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> messages</li>
<li class="nx-my-2">1 Subscriber that subscribes to the &#x27;/odom/filtered&#x27; topic for <a href="https://docs.ros.org/en/noetic/api/nav_msgs/html/msg/Odometry.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">nav_msgs::msg::Odometry<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> messages</li>
<li class="nx-my-2">1 Publisher that publishes <a href="https://docs.ros.org/en/lunar/api/nav_msgs/html/msg/Path.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">nav_msgs::msg::Path<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> messages to a &#x27;/path&#x27; topic</li>
<li class="nx-my-2">1 Timer that tracks when we have reached the goal, or timedout, and we need to replan</li>
</ul>
</blockquote>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img src="" alt=""/></p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">The planner node corrosponds to a combination of configuration and action. Because the robots sole purpose is to move to a specified point, its configuration is very simple. Within the planner, you can model its configurator as a simple state machine that switches between two states: waiting for a goal, waiting for robot to reach the goal. These two states are sufficient enough for the task at hand. Furthermore, the planning node also produces a global plan from the robot&#x27;s starting position to the final goal. It does this by using the discretized grid of the map and iterating through the grid to reach an optimal path. This plan is updated everytime the map updates.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">To plan from one point in an incomplete map to another, there are a multiple of algorithms you can use. The simplest is Breadth First Search, which will inflate outwards from the robot&#x27;s starting position, and end when it reaches the goal point. For this assignment, we suggest you make your life more interesting and learn how to use A*. <a href="https://www.youtube.com/watch?v=-L-WgKMFuhE" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">Here&#x27;s a nice video about how A* works<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a></p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">To give you an easier time with building A*, here&#x27;s some structs that could help you with building and traversing the graph:</p>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="cpp" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="cpp" data-theme="default"><span class="line"><span style="color:var(--shiki-token-comment)">// ------------------- Supporting Structures -------------------</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">// 2D grid index</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">struct</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">CellIndex</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">{</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">int</span><span style="color:var(--shiki-color-text)"> x;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">int</span><span style="color:var(--shiki-color-text)"> y;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">CellIndex</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">int</span><span style="color:var(--shiki-color-text)"> xx</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">int</span><span style="color:var(--shiki-color-text)"> yy) </span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">x</span><span style="color:var(--shiki-color-text)">(xx)</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">y</span><span style="color:var(--shiki-color-text)">(yy) {}</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">CellIndex</span><span style="color:var(--shiki-color-text)">() </span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">x</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-color-text)">)</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">y</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-color-text)">) {}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">bool</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">operator</span><span style="color:var(--shiki-color-text)">==(</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">CellIndex</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">other) </span><span style="color:var(--shiki-token-keyword)">const</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> (x </span><span style="color:var(--shiki-token-keyword)">==</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">other</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">x </span><span style="color:var(--shiki-token-keyword)">&amp;&amp;</span><span style="color:var(--shiki-color-text)"> y </span><span style="color:var(--shiki-token-keyword)">==</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">other</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">y);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">bool</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">operator</span><span style="color:var(--shiki-color-text)">!=(</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">CellIndex</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">other) </span><span style="color:var(--shiki-token-keyword)">const</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> (x </span><span style="color:var(--shiki-token-keyword)">!=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">other</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">x </span><span style="color:var(--shiki-token-keyword)">||</span><span style="color:var(--shiki-color-text)"> y </span><span style="color:var(--shiki-token-keyword)">!=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">other</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">y);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">};</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">// Hash function for CellIndex so it can be used in std::unordered_map</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">struct</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">CellIndexHash</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">{</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-keyword)">size_t</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">operator</span><span style="color:var(--shiki-color-text)">()(</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">CellIndex</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">idx) </span><span style="color:var(--shiki-token-keyword)">const</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // A simple hash combining x and y</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">hash</span><span style="color:var(--shiki-color-text)">&lt;</span><span style="color:var(--shiki-token-keyword)">int</span><span style="color:var(--shiki-color-text)">&gt;()(</span><span style="color:var(--shiki-token-constant)">idx</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">x) </span><span style="color:var(--shiki-token-keyword)">^</span><span style="color:var(--shiki-color-text)"> (std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">hash</span><span style="color:var(--shiki-color-text)">&lt;</span><span style="color:var(--shiki-token-keyword)">int</span><span style="color:var(--shiki-color-text)">&gt;()(</span><span style="color:var(--shiki-token-constant)">idx</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">y) </span><span style="color:var(--shiki-token-keyword)">&lt;&lt;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">1</span><span style="color:var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">};</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">// Structure representing a node in the A* open set</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">struct</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">AStarNode</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">{</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  CellIndex index;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> f_score;</span><span style="color:var(--shiki-token-comment)">  // f = g + h</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-function)">AStarNode</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-function)">CellIndex</span><span style="color:var(--shiki-color-text)"> idx</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> f) </span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">index</span><span style="color:var(--shiki-color-text)">(idx)</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">f_score</span><span style="color:var(--shiki-color-text)">(f) {}</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">};</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">// Comparator for the priority queue (min-heap by f_score)</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">struct</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">CompareF</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">{</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  </span><span style="color:var(--shiki-token-keyword)">bool</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">operator</span><span style="color:var(--shiki-color-text)">()(</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">AStarNode</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">a</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">AStarNode</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">b)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // We want the node with the smallest f_score on top</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">a</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">f_score </span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">b</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">f_score;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">};</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<hr class="nx-my-8 nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400"/>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Node Behavior and Design</strong><a href="#node-behavior-and-design" id="node-behavior-and-design" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">The planner operates as a state machine with two states:</p>
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>Waiting for Goal</strong>: The node waits for a new goal point from the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/goal_point</code> topic.</li>
<li class="nx-my-2"><strong>Waiting for Robot to Reach Goal</strong>: Once a goal is received, the node plans a path using A* and monitors the robot&#x27;s progress toward the goal.</li>
</ol>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Key Functionalities</strong><a href="#key-functionalities" id="key-functionalities" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Global Plan</strong>:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Uses the A* algorithm to find the optimal path from the robot&#x27;s current position to the goal on the occupancy grid (<code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/map</code>).</li>
<li class="nx-my-2">Pathfinding accounts for obstacle constraints and generates a path that minimizes the cost.</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>State Transition</strong>:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Transition from &quot;waiting for goal&quot; to &quot;waiting for robot to reach the goal&quot; occurs when a valid goal is received.</li>
<li class="nx-my-2">Transition back occurs when:<!-- -->
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">The goal is reached.</li>
<li class="nx-my-2">A timeout is reached.</li>
<li class="nx-my-2">The map updates, requiring a replan.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Timer for Replanning</strong>:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Checks for timeout or completion conditions periodically.</li>
<li class="nx-my-2">Replans if the robot fails to progress or if a new map update invalidates the previous plan.</li>
</ul>
</li>
</ol>
<hr class="nx-my-8 nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400"/>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Steps to Implement</strong><a href="#steps-to-implement" id="steps-to-implement" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Subscribers</strong>:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/map</code>: Receives <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">nav_msgs::msg::OccupancyGrid</code> messages.<!-- -->
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Used as the grid for A* pathfinding.</li>
</ul>
</li>
<li class="nx-my-2"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/goal_point</code>: Receives <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">geometry_msgs::msg::PointStamped</code> messages.<!-- -->
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Specifies the goal point.</li>
</ul>
</li>
<li class="nx-my-2"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/odom/filtered</code>: Receives <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">nav_msgs::msg::Odometry</code> messages.<!-- -->
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Tracks the robot&#x27;s current position and progress toward the goal.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Publisher</strong>:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/path</code>: Publishes <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">nav_msgs::msg::Path</code> messages.<!-- -->
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Contains the planned path from the robot&#x27;s position to the goal.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Timer</strong>:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Periodically checks if the goal is reached or if replanning is required.</li>
<li class="nx-my-2">Ensures efficient operation by limiting unnecessary updates.</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>A* Implementation</strong>:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Use the occupancy grid as the search space.</li>
<li class="nx-my-2">Initialize start and goal points based on the robot’s position and the goal point.</li>
<li class="nx-my-2">Implement A*:<!-- -->
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Maintain an open list of nodes to be evaluated and a closed list of evaluated nodes.</li>
<li class="nx-my-2">Use a cost function:
[
f(n) = g(n) + h(n)
]<!-- -->
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">( g(n) ): Cost to reach the node.</li>
<li class="nx-my-2">( h(n) ): Heuristic estimate of cost to reach the goal (e.g., Euclidean or Manhattan distance).</li>
</ul>
</li>
<li class="nx-my-2">Expand nodes until the goal is reached or no valid path exists.</li>
</ul>
</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>State Machine</strong>:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Define and handle transitions between &quot;waiting for goal&quot; and &quot;waiting for robot to reach goal.&quot;</li>
</ul>
</li>
</ol>
<hr class="nx-my-8 nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400"/>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Code Example (Pseudo-ROS 2 Implementation)</strong><a href="#code-example-pseudo-ros-2-implementation-2" id="code-example-pseudo-ros-2-implementation-2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="cpp" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="cpp" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">class</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">PlannerNode</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">public</span><span style="color:var(--shiki-color-text)"> rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">Node</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">public</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">PlannerNode</span><span style="color:var(--shiki-color-text)">() </span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">Node</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;planner_node&quot;</span><span style="color:var(--shiki-color-text)">)</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">state_</span><span style="color:var(--shiki-color-text)">(State</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">WAITING_FOR_GOAL) {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Subscribers</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        map_sub_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">create_subscription</span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-color-text)">nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">OccupancyGrid</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-string-expression)">&quot;/map&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">10</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">bind</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">PlannerNode</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">mapCallback</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">placeholders</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">_1));</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        goal_sub_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">create_subscription</span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-color-text)">geometry_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">PointStamped</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-string-expression)">&quot;/goal_point&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">10</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">bind</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">PlannerNode</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">goalCallback</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">placeholders</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">_1));</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        odom_sub_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">create_subscription</span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-color-text)">nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Odometry</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-string-expression)">&quot;/odom/filtered&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">10</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">bind</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">PlannerNode</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">odomCallback</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">placeholders</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">_1));</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Publisher</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        path_pub_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">create_publisher</span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-color-text)">nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Path</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;/path&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">10</span><span style="color:var(--shiki-color-text)">);</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Timer</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        timer_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">create_wall_timer</span><span style="color:var(--shiki-color-text)">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">chrono</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">milliseconds</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">500</span><span style="color:var(--shiki-color-text)">)</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">bind</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">PlannerNode</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">timerCallback</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-color-text)">));</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">private</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">enum</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">class</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">State</span><span style="color:var(--shiki-color-text)"> { WAITING_FOR_GOAL</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> WAITING_FOR_ROBOT_TO_REACH_GOAL };</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    State state_;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Subscribers and Publisher</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Subscription&lt;nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">OccupancyGrid</span><span style="color:var(--shiki-color-text)">&gt;</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr map_sub_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Subscription&lt;geometry_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">PointStamped</span><span style="color:var(--shiki-color-text)">&gt;</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr goal_sub_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Subscription&lt;nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">Odometry</span><span style="color:var(--shiki-color-text)">&gt;</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr odom_sub_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Publisher&lt;nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">Path</span><span style="color:var(--shiki-color-text)">&gt;</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr path_pub_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">TimerBase</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr timer_;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Data Storage</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">OccupancyGrid current_map_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    geometry_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">PointStamped goal_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    geometry_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Pose robot_pose_;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">bool</span><span style="color:var(--shiki-color-text)"> goal_received_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">false</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">void</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">mapCallback</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">OccupancyGrid</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">SharedPtr</span><span style="color:var(--shiki-color-text)"> msg) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        current_map_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)">msg;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> (state_ </span><span style="color:var(--shiki-token-keyword)">==</span><span style="color:var(--shiki-color-text)"> State</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">WAITING_FOR_ROBOT_TO_REACH_GOAL) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-function)">planPath</span><span style="color:var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">void</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">goalCallback</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> geometry_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">PointStamped</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">SharedPtr</span><span style="color:var(--shiki-color-text)"> msg) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        goal_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)">msg;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        goal_received_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">true</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        state_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> State</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">WAITING_FOR_ROBOT_TO_REACH_GOAL;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-function)">planPath</span><span style="color:var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">void</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">odomCallback</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Odometry</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">SharedPtr</span><span style="color:var(--shiki-color-text)"> msg) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        robot_pose_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">msg</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-constant)">pose</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">pose;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">void</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">timerCallback</span><span style="color:var(--shiki-color-text)">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> (state_ </span><span style="color:var(--shiki-token-keyword)">==</span><span style="color:var(--shiki-color-text)"> State</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">WAITING_FOR_ROBOT_TO_REACH_GOAL) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> (</span><span style="color:var(--shiki-token-function)">goalReached</span><span style="color:var(--shiki-color-text)">()) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">                </span><span style="color:var(--shiki-token-function)">RCLCPP_INFO</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">get_logger</span><span style="color:var(--shiki-color-text)">()</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;Goal reached!&quot;</span><span style="color:var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">                state_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> State</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">WAITING_FOR_GOAL;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            } </span><span style="color:var(--shiki-token-keyword)">else</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">                </span><span style="color:var(--shiki-token-function)">RCLCPP_INFO</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">get_logger</span><span style="color:var(--shiki-color-text)">()</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;Replanning due to timeout or progress...&quot;</span><span style="color:var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">                </span><span style="color:var(--shiki-token-function)">planPath</span><span style="color:var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">bool</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">goalReached</span><span style="color:var(--shiki-color-text)">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> dx </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">goal_</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-constant)">point</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">x </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">robot_pose_</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-constant)">position</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">x;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> dy </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">goal_</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-constant)">point</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">y </span><span style="color:var(--shiki-token-keyword)">-</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">robot_pose_</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-constant)">position</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">y;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">sqrt</span><span style="color:var(--shiki-color-text)">(dx </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> dx </span><span style="color:var(--shiki-token-keyword)">+</span><span style="color:var(--shiki-color-text)"> dy </span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)"> dy) </span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">0.5</span><span style="color:var(--shiki-color-text)">;</span><span style="color:var(--shiki-token-comment)"> // Threshold for reaching the goal</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">void</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">planPath</span><span style="color:var(--shiki-color-text)">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> (</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-color-text)">goal_received_ </span><span style="color:var(--shiki-token-keyword)">||</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">current_map_</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-constant)">data</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-function)">empty</span><span style="color:var(--shiki-color-text)">()) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-function)">RCLCPP_WARN</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">get_logger</span><span style="color:var(--shiki-color-text)">()</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;Cannot plan path: Missing map or goal!&quot;</span><span style="color:var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // A* Implementation (pseudo-code)</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Path path;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">path</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-constant)">header</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">stamp </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">get_clock</span><span style="color:var(--shiki-color-text)">()</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">now</span><span style="color:var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">path</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-token-constant)">header</span><span style="color:var(--shiki-token-punctuation)">.</span><span style="color:var(--shiki-color-text)">frame_id </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&quot;map&quot;</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Compute path using A* on current_map_</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Fill path.poses with the resulting waypoints.</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">path_pub_</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">publish</span><span style="color:var(--shiki-color-text)">(path);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">};</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<hr class="nx-my-8 nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400"/>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Key Points</strong><a href="#key-points-2" id="key-points-2" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong>State Machine</strong>: Clear separation of &quot;waiting for goal&quot; and &quot;waiting for robot to reach goal.&quot;</li>
<li class="nx-my-2"><strong>A* Planning</strong>: Finds an optimal path on the discretized occupancy grid using heuristic cost estimation.</li>
<li class="nx-my-2"><strong>Replanning</strong>: Automatically triggered by timer-based checks for progress or map updates.</li>
</ol>
<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl"><strong>Control Node</strong><a href="#control-node" id="control-node" class="subheading-anchor" aria-label="Permalink for this section"></a></h3>
<blockquote class="nx-mt-6 nx-border-gray-300 nx-italic nx-text-gray-700 dark:nx-border-gray-700 dark:nx-text-gray-400 first:nx-mt-0 ltr:nx-border-l-2 ltr:nx-pl-6 rtl:nx-border-r-2 rtl:nx-pr-6">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Should contain the following ROS constructs:</strong></p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">1 Subscriber that subscribes to the &#x27;/path&#x27; topic for <a href="https://docs.ros.org/en/lunar/api/nav_msgs/html/msg/Path.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">nav_msgs::msg::Path<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> messages</li>
<li class="nx-my-2">1 Subscriber that subscribes to the &#x27;/odom/filtered&#x27; topic for <a href="https://docs.ros.org/en/noetic/api/nav_msgs/html/msg/Odometry.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">nav_msgs::msg::Odometry<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> messages</li>
<li class="nx-my-2">1 Publisher that publishes <a href="https://docs.ros.org/en/lunar/api/geometry_msgs/html/msg/Twist.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">geometry_msgs::msg::Twist<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a> messages to a &#x27;/costmap&#x27; topic</li>
<li class="nx-my-2">1 Timer to follow a stored path</li>
</ul>
</blockquote>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img src="" alt=""/></p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">The control node is the final piece of the puzzle. It is the final action layer that is between your robotics software, and moving the robot (well, there&#x27;s also the hardware abstraction layer that actually takes what this node outputs and converts it into actual electrical signals to move the motors of the robot).</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">The field of controls is vast, and there are multiple different types of control schemes. As you go through university, you will probably learn about PID control. This form of control is used EVERYWHERE.</p>
<blockquote class="nx-mt-6 nx-border-gray-300 nx-italic nx-text-gray-700 dark:nx-border-gray-700 dark:nx-text-gray-400 first:nx-mt-0 ltr:nx-border-l-2 ltr:nx-pl-6 rtl:nx-border-r-2 rtl:nx-pr-6">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">As of writing this assignment I was telling my dad about how I learned PID control, and how we can optimize signals in the Laplace domain, find parameters of a system with frequency analysis, blah, blah, blah. And he responded by telling me how he learned the same thing back in China, and uses it all the time to control temperatures and electrical signals in oil refineries.</p>
</blockquote>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Turns out you can use PID controls for following the path you just made. You simply calculate how far your robot deviates from the path (and its discrete derivative and integral), and use that to adjust your robot back onto the path. HOWEVER, PID controls is quite finnicky, so lets teach you a different control scheme.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Pure Pursuit Control</strong> is a geometric algorithm used to guide a robot along a predefined path. The robot selects a &quot;lookahead point&quot; on the path at a fixed distance ahead, and the algorithm calculates the steering angle needed to reach this point. This angle is based on the curvature of a circular arc connecting the robot’s current position to the target point.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img loading="lazy" width="579" height="189" decoding="async" data-nimg="1" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 320 120&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAIAAAAhqtkfAAAAQElEQVR42iXI2xGAIAwF0fTfJR0YCHlyo47u184hd4/wi5fILhG4AshM6sarFhVqPIZNPlUAiOfaGh7n/kL3Pw8v/EXfSxI4tgAAAABJRU5ErkJggg==&#x27;/%3E%3C/svg%3E&quot;)" src="/_next/static/media/pure_pursuit_lookahead.fd8078ce.png"/></p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">The lookahead distance controls how far ahead the target point is chosen. A larger distance makes the motion smoother but less precise, while a smaller distance improves accuracy but can lead to sharper, less smooth movements. As the robot moves, the target point and steering angle are updated continuously, allowing the robot to follow the path dynamically.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><img loading="lazy" width="925" height="639" decoding="async" data-nimg="1" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 320 240&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAIAAABxZ0isAAAAYUlEQVR42l2MQRLDMAgD/f+/Nk1TBwMSEHyNRietZkdV3aIO6vlLIHQl2eNYaiJ6Tbk/B8zYjIyIATCrVL1fmRnRDQKjdhq9M9xdlsp/yvdwmXadhG+VqoEBd4gESWCryAdPEo0HHNqrhAAAAABJRU5ErkJggg==&#x27;/%3E%3C/svg%3E&quot;)" src="/_next/static/media/pure_pursuit_lookahead2.82ca87be.png"/></p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">You can read more about Pure Pursuit <a href="https://www.mathworks.com/help/nav/ug/pure-pursuit-controller.html" target="_blank" rel="noreferrer" class="nx-text-primary-600 nx-underline nx-decoration-from-font [text-underline-position:from-font]">here<span class="nx-sr-only nx-select-none"> (opens in a new tab)</span></a>.</p>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Node Behavior and Design</strong><a href="#node-behavior-and-design-1" id="node-behavior-and-design-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">The Pure Pursuit Controller node is responsible for taking a path and odometry data as inputs and generating velocity commands to guide the robot along the path. The node operates in a closed-loop fashion: it continuously checks the robot&#x27;s current position, calculates the desired heading based on the &quot;lookahead point,&quot; and generates appropriate linear and angular velocity commands.</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">The node subscribes to:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/path</code></strong>: Receives the global path as a series of waypoints.</li>
<li class="nx-my-2"><strong><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/odom/filtered</code></strong>: Tracks the robot&#x27;s current position and orientation.</li>
</ul>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">The node publishes:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2"><strong><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">/cmd_vel</code></strong>: Outputs velocity commands in the form of linear and angular velocities.</li>
</ul>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Additionally, the node employs a timer to ensure regular updates of the velocity commands.</p>
<hr class="nx-my-8 nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400"/>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Key Functionalities</strong><a href="#key-functionalities-1" id="key-functionalities-1" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<ol class="nx-mt-6 nx-list-decimal first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Path Tracking</strong>:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Extract the current lookahead point from the path based on the robot’s position and a fixed lookahead distance.</li>
<li class="nx-my-2">Compute the steering angle required to reach the lookahead point.</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Velocity Commands</strong>:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Calculate linear and angular velocities using the steering angle and the robot’s dynamics.</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Error Handling</strong>:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">Handle edge cases like when the path is empty or the robot is close to the final goal.</li>
</ul>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Timer for Updates</strong>:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">The node updates the velocity commands at a fixed rate (e.g., 10 Hz) for smooth and consistent control.</li>
</ul>
</li>
</ol>
<hr class="nx-my-8 nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400"/>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Pseudo ROS Code Example</strong><a href="#pseudo-ros-code-example" id="pseudo-ros-code-example" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<div class="nextra-code-block nx-relative nx-mt-6 first:nx-mt-0"><pre class="nx-bg-primary-700/5 nx-mb-4 nx-overflow-x-auto nx-rounded-xl nx-subpixel-antialiased dark:nx-bg-primary-300/10 nx-text-[.9em] contrast-more:nx-border contrast-more:nx-border-primary-900/20 contrast-more:nx-contrast-150 contrast-more:dark:nx-border-primary-100/40 nx-py-4" data-language="cpp" data-theme="default"><code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr" data-language="cpp" data-theme="default"><span class="line"><span style="color:var(--shiki-token-keyword)">#include</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&lt;rclcpp/rclcpp.hpp&gt;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">#include</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&lt;nav_msgs/msg/path.hpp&gt;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">#include</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&lt;nav_msgs/msg/odometry.hpp&gt;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">#include</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&lt;geometry_msgs/msg/twist.hpp&gt;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">#include</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&lt;cmath&gt;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">#include</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-string-expression)">&lt;optional&gt;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">class</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">PurePursuitController</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">public</span><span style="color:var(--shiki-color-text)"> rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">Node</span><span style="color:var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">public</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-function)">PurePursuitController</span><span style="color:var(--shiki-color-text)">() </span><span style="color:var(--shiki-token-punctuation)">:</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">Node</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;pure_pursuit_controller&quot;</span><span style="color:var(--shiki-color-text)">) {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Initialize parameters</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        lookahead_distance_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">1.0</span><span style="color:var(--shiki-color-text)">;</span><span style="color:var(--shiki-token-comment)">  // Lookahead distance</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        goal_tolerance_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">0.1</span><span style="color:var(--shiki-color-text)">;</span><span style="color:var(--shiki-token-comment)">     // Distance to consider the goal reached</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        linear_speed_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">0.5</span><span style="color:var(--shiki-color-text)">;</span><span style="color:var(--shiki-token-comment)">       // Constant forward speed</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Subscribers and Publishers</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        path_sub_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">create_subscription</span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-color-text)">nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Path</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-string-expression)">&quot;/path&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">10</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> [</span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-color-text)">](</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Path</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">SharedPtr</span><span style="color:var(--shiki-color-text)"> msg) { current_path_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> msg; });</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">        odom_sub_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">create_subscription</span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-color-text)">nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Odometry</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-string-expression)">&quot;/odom/filtered&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">10</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> [</span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-color-text)">](</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Odometry</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">SharedPtr</span><span style="color:var(--shiki-color-text)"> msg) { robot_odom_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> msg; });</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">        cmd_vel_pub_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-color-text)">create_publisher</span><span style="color:var(--shiki-token-keyword)">&lt;</span><span style="color:var(--shiki-color-text)">geometry_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Twist</span><span style="color:var(--shiki-token-keyword)">&gt;</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-string-expression)">&quot;/cmd_vel&quot;</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">10</span><span style="color:var(--shiki-color-text)">);</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Timer</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        control_timer_ </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">create_wall_timer</span><span style="color:var(--shiki-color-text)">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">chrono</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">milliseconds</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-constant)">100</span><span style="color:var(--shiki-color-text)">)</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> [</span><span style="color:var(--shiki-token-constant)">this</span><span style="color:var(--shiki-color-text)">]() { </span><span style="color:var(--shiki-token-function)">controlLoop</span><span style="color:var(--shiki-color-text)">(); });</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-keyword)">private</span><span style="color:var(--shiki-token-punctuation)">:</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">void</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">controlLoop</span><span style="color:var(--shiki-color-text)">() {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Skip control if no path or odometry data is available</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> (</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-color-text)">current_path_ </span><span style="color:var(--shiki-token-keyword)">||</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-color-text)">robot_odom_) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Find the lookahead point</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">auto</span><span style="color:var(--shiki-color-text)"> lookahead_point </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">findLookaheadPoint</span><span style="color:var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">if</span><span style="color:var(--shiki-color-text)"> (</span><span style="color:var(--shiki-token-keyword)">!</span><span style="color:var(--shiki-color-text)">lookahead_point) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">            </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)">;</span><span style="color:var(--shiki-token-comment)">  // No valid lookahead point found</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Compute velocity command</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">auto</span><span style="color:var(--shiki-color-text)"> cmd_vel </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">computeVelocity</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">*</span><span style="color:var(--shiki-color-text)">lookahead_point);</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // Publish the velocity command</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-constant)">cmd_vel_pub_</span><span style="color:var(--shiki-token-punctuation)">-&gt;</span><span style="color:var(--shiki-token-function)">publish</span><span style="color:var(--shiki-color-text)">(cmd_vel);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">    std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">optional</span><span style="color:var(--shiki-color-text)">&lt;geometry_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">PoseStamped</span><span style="color:var(--shiki-color-text)">&gt; </span><span style="color:var(--shiki-token-function)">findLookaheadPoint</span><span style="color:var(--shiki-color-text)">() {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // TODO: Implement logic to find the lookahead point on the path</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">nullopt;</span><span style="color:var(--shiki-token-comment)">  // Replace with a valid point when implemented</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">    geometry_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">Twist</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">computeVelocity</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> geometry_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">PoseStamped</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">target) {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // TODO: Implement logic to compute velocity commands</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        geometry_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Twist cmd_vel;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> cmd_vel;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">computeDistance</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> geometry_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">Point</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">a</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> geometry_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">Point</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">b) {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // TODO: Implement distance calculation between two points</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">0.0</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">extractYaw</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">const</span><span style="color:var(--shiki-color-text)"> geometry_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">Quaternion</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">&amp;</span><span style="color:var(--shiki-color-text)">quat) {</span></span>
<span class="line"><span style="color:var(--shiki-token-comment)">        // TODO: Implement quaternion to yaw conversion</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">        </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">0.0</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    }</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Subscribers and Publishers</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Subscription&lt;nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">Path</span><span style="color:var(--shiki-color-text)">&gt;</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr path_sub_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Subscription&lt;nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">Odometry</span><span style="color:var(--shiki-color-text)">&gt;</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr odom_sub_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Publisher&lt;geometry_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">Twist</span><span style="color:var(--shiki-color-text)">&gt;</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr cmd_vel_pub_;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Timer</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">TimerBase</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr control_timer_;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Data</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Path</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr current_path_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    nav_msgs</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">msg</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">Odometry</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-color-text)">SharedPtr robot_odom_;</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">    // Parameters</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> lookahead_distance_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> goal_tolerance_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">double</span><span style="color:var(--shiki-color-text)"> linear_speed_;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">};</span></span>
<span class="line"> </span>
<span class="line"><span style="color:var(--shiki-token-comment)">// Main function</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword)">int</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-function)">main</span><span style="color:var(--shiki-color-text)">(</span><span style="color:var(--shiki-token-keyword)">int</span><span style="color:var(--shiki-color-text)"> argc</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">char</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-keyword)">**</span><span style="color:var(--shiki-color-text)">argv) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">init</span><span style="color:var(--shiki-color-text)">(argc</span><span style="color:var(--shiki-token-punctuation)">,</span><span style="color:var(--shiki-color-text)"> argv);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">auto</span><span style="color:var(--shiki-color-text)"> node </span><span style="color:var(--shiki-token-keyword)">=</span><span style="color:var(--shiki-color-text)"> std</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">make_shared</span><span style="color:var(--shiki-color-text)">&lt;</span><span style="color:var(--shiki-token-function)">PurePursuitController</span><span style="color:var(--shiki-color-text)">&gt;();</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">spin</span><span style="color:var(--shiki-color-text)">(node);</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    rclcpp</span><span style="color:var(--shiki-token-punctuation)">::</span><span style="color:var(--shiki-token-function)">shutdown</span><span style="color:var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">    </span><span style="color:var(--shiki-token-keyword)">return</span><span style="color:var(--shiki-color-text)"> </span><span style="color:var(--shiki-token-constant)">0</span><span style="color:var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text)">}</span></span></code></pre><div class="nx-opacity-0 nx-transition [div:hover&gt;&amp;]:nx-opacity-100 focus-within:nx-opacity-100 nx-flex nx-gap-1 nx-absolute nx-m-[11px] nx-right-0 nx-top-0"><button class="nextra-button nx-transition-all active:nx-opacity-50 nx-bg-primary-700/5 nx-border nx-border-black/5 nx-text-gray-600 hover:nx-text-gray-900 nx-rounded-md nx-p-1.5 dark:nx-bg-primary-300/10 dark:nx-border-white/10 dark:nx-text-gray-400 dark:hover:nx-text-gray-50 md:nx-hidden" title="Toggle word wrap"><svg viewBox="0 0 24 24" width="24" height="24" class="nx-pointer-events-none nx-h-4 nx-w-4"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button></div></div>
<hr class="nx-my-8 nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400"/>
<h4 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-xl"><strong>Key Details</strong><a href="#key-details" id="key-details" class="subheading-anchor" aria-label="Permalink for this section"></a></h4>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Lookahead Distance</strong>: The controller selects a point on the path at a fixed distance ahead of the robot. This distance must be tuned for the robot&#x27;s dynamics and desired path-following performance.</p>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Linear Speed</strong>: The robot’s speed is typically kept constant, while the angular velocity adjusts based on the curvature.</p>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Edge Cases</strong>: Ensure the node handles scenarios like an empty path or reaching the final goal. You can stop the robot when the goal is within the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">goal_tolerance</code>.</p>
</li>
<li class="nx-my-2">
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0"><strong>Yaw Calculation</strong>: Converting the robot’s quaternion orientation to yaw is essential for computing the steering angle.</p>
</li>
</ul>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">This implementation provides a simple yet effective way to integrate Pure Pursuit Control in ROS for smooth path following.</p>
<h2 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-10 nx-border-b nx-pb-1 nx-text-3xl nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400">Helpful Tips<a href="#helpful-tips" id="helpful-tips" class="subheading-anchor" aria-label="Permalink for this section"></a></h2>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">You never need to run <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">colcon build</code> because our monorepo infrastructure runs it automatically whenever you run <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">./watod build</code>. A good amount of ROS packaging and Launchfiles has also been abstracted away from you. This was deliberate in order to make your experience with the assignment as &quot;code-heavy&quot; as possible.<!-- -->
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">If you want more into about how our infrastructure works, refer to the docs, or just read the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">watod</code> scripting. It&#x27;s not as complex as you think it is.</li>
<li class="nx-my-2">What are launchfiles you may ask? Well basically ROS compiles your code into executable binaries inside a <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">./install</code> directory. Launchfiles, and its python api, are used to navigate the binaries within the <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">./install</code> directory. Note, you do not see any <code class="nx-border-black nx-border-opacity-[0.04] nx-bg-opacity-[0.03] nx-bg-black nx-break-words nx-rounded-md nx-border nx-py-0.5 nx-px-[.25em] nx-text-[.9em] dark:nx-border-white/10 dark:nx-bg-white/10" dir="ltr">./install</code> directories in this assignment because we build your code inside docker containers.</li>
</ul>
</li>
<li class="nx-my-2">The resolution of the costmap should be more than the map. This is to allow the map memory algorithm to match points from the costmap to the map without leaving holes.</li>
<li class="nx-my-2">Throughout this assignment, you should really learn how to use Foxglove. It is a powerful tool to see what messages are being sent throughout the robot. Use 3D panel to see the messages in an intuitive way. Use Raw Message panels to see what the message actually looks like. Good for debugging.</li>
<li class="nx-my-2">Make sure your map memory node publishes a map on initialization. Otherwise, your planner won&#x27;t be able to plan unless if you move the robot manually for a bit.</li>
<li class="nx-my-2">Your planner node might plan through objects it can&#x27;t see. That&#x27;s okay, as the robot moves, the map will update, and so will the planned path.</li>
</ul>
<h2 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-10 nx-border-b nx-pb-1 nx-text-3xl nx-border-neutral-200/70 contrast-more:nx-border-neutral-400 dark:nx-border-primary-100/10 contrast-more:dark:nx-border-neutral-400">Final Remarks<a href="#final-remarks" id="final-remarks" class="subheading-anchor" aria-label="Permalink for this section"></a></h2>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Congratulations! You have just achieved basic navigation in a static environment. You can now submit your assignment to the Discord, and use your newfound expertise to code REAL robots!!</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Now that you&#x27;ve built a simple navigation system, it&#x27;s time to open your mind:</p>
<ul class="nx-mt-6 nx-list-disc first:nx-mt-0 ltr:nx-ml-6 rtl:nx-mr-6">
<li class="nx-my-2">How can we change this software system to account for other sensors such as cameras, radars, and sonars?</li>
<li class="nx-my-2">If we weren&#x27;t directly given the robot&#x27;s position with respect to the map, then how would we localize the robot? In other words, how do we make the robot know where it is?</li>
<li class="nx-my-2">What if we wanted the robot to do more complex decision making? What if its goal was more than just going from one point to another?</li>
<li class="nx-my-2">How can we change this algorithm to account for moving obstacles?</li>
<li class="nx-my-2">What if the robot wasn&#x27;t differential drive? What if it was two separate carts connected to each other at a pivot point?</li>
</ul>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">All of these are probing questions that should get you excited about the limitless potential of robotics. You have just learned how to code a robot. Now it&#x27;s time for you to learn to how code even more intelligent robots. Your future is bright :).</p>
<p class="nx-mt-6 nx-leading-7 first:nx-mt-0">Whether you used this assignment to get in WATonomous, or you used it for your personal growth, we wish you luck in your future career. :D</p><div class="nx-mt-16"></div><div class="nx-mb-8 nx-flex nx-items-center nx-border-t nx-pt-8 dark:nx-border-neutral-800 contrast-more:nx-border-neutral-400 dark:contrast-more:nx-border-neutral-400 print:nx-hidden"><a title="Admission Assignments" class="nx-flex nx-max-w-[50%] nx-items-center nx-gap-1 nx-py-4 nx-text-base nx-font-medium nx-text-gray-600 nx-transition-colors [word-break:break-word] hover:nx-text-primary-600 dark:nx-text-gray-300 md:nx-text-lg ltr:nx-pr-4 rtl:nx-pl-4" href="/admission_assignments"><svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-inline nx-h-5 nx-shrink-0 ltr:nx-rotate-180"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>Admission Assignments</a><a title="Autonomous Platform General" class="nx-flex nx-max-w-[50%] nx-items-center nx-gap-1 nx-py-4 nx-text-base nx-font-medium nx-text-gray-600 nx-transition-colors [word-break:break-word] hover:nx-text-primary-600 dark:nx-text-gray-300 md:nx-text-lg ltr:nx-ml-auto ltr:nx-pl-4 ltr:nx-text-right rtl:nx-mr-auto rtl:nx-pr-4 rtl:nx-text-left" href="/autonomous_platform_general">Autonomous Platform General<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" class="nx-inline nx-h-5 nx-shrink-0 rtl:nx-rotate-180"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a></div></main></article></div><footer class="nx-bg-gray-100 nx-pb-[env(safe-area-inset-bottom)] dark:nx-bg-neutral-900 print:nx-bg-transparent"><div class="nx-mx-auto nx-flex nx-max-w-[90rem] nx-gap-2 nx-py-2 nx-px-4 nx-hidden"><button title="Change theme" class="nx-h-7 nx-rounded-md nx-px-2 nx-text-left nx-text-xs nx-font-medium nx-text-gray-600 nx-transition-colors dark:nx-text-gray-400 hover:nx-bg-gray-100 hover:nx-text-gray-900 dark:hover:nx-bg-primary-100/5 dark:hover:nx-text-gray-50" id="headlessui-listbox-button-:Rkt6:" type="button" aria-haspopup="listbox" aria-expanded="false" data-headlessui-state=""><div class="nx-flex nx-items-center nx-gap-2 nx-capitalize"><svg fill="none" viewBox="3 3 18 18" width="12" height="12" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" fill="currentColor" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg><span class="">Light</span></div></button></div><hr class="dark:nx-border-neutral-800"/><div class="nx-mx-auto nx-flex nx-max-w-[90rem] nx-justify-center nx-py-12 nx-text-gray-600 dark:nx-text-gray-400 md:nx-justify-start nx-pl-[max(env(safe-area-inset-left),1.5rem)] nx-pr-[max(env(safe-area-inset-right),1.5rem)]"><div class="w-full mx-auto max-w-screen-xl lg:flex lg:gap-x-20 lg:items-center lg:justify-between text-center lg:text-left"><span>Made with <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart inline-block align-text-bottom"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path></svg> using <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code-xml inline-block align-text-bottom"><path d="m18 16 4-4-4-4"></path><path d="m6 8-4 4 4 4"></path><path d="m14.5 4-5 16"></path></svg> and <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bot inline-block align-text-bottom"><path d="M12 8V4H8"></path><rect width="16" height="12" x="4" y="8" rx="2"></rect><path d="M2 14h2"></path><path d="M20 14h2"></path><path d="M15 13v2"></path><path d="M9 13v2"></path></svg><br class="md:hidden"/> by WATonomous and WATcloud.</span></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{}},"page":"/admission_assignments/asd_admission_assignment","query":{},"buildId":"yTBYTIvLiwhsZ--IA1eZC","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>